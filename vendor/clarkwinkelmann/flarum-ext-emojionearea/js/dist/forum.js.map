{"version":3,"sources":["webpack://@clarkwinkelmann/emojionearea/webpack/bootstrap","webpack://@clarkwinkelmann/emojionearea/./forum.js","webpack://@clarkwinkelmann/emojionearea/./node_modules/emojionearea/dist/emojionearea.js","webpack://@clarkwinkelmann/emojionearea/(webpack)/buildin/global.js","webpack://@clarkwinkelmann/emojionearea/./src/forum/index.js","webpack://@clarkwinkelmann/emojionearea/external \"flarum.core.compat['app']\"","webpack://@clarkwinkelmann/emojionearea/external \"flarum.core.compat['components/Button']\"","webpack://@clarkwinkelmann/emojionearea/external \"flarum.core.compat['components/ComposerBody']\"","webpack://@clarkwinkelmann/emojionearea/external \"flarum.core.compat['components/TextEditor']\"","webpack://@clarkwinkelmann/emojionearea/external \"flarum.core.compat['extend']\"","webpack://@clarkwinkelmann/emojionearea/external \"jQuery\""],"names":["require","translationPrefix","app","initializers","add","extend","ComposerBody","prototype","element","isInitialized","context","$container","$","before","area","emojioneArea","standalone","search","forum","attribute","searchPlaceholder","translator","trans","buttonTitle","recentEmojis","filtersPosition","searchPosition","container","tones","autocomplete","events","emojibtn_click","editor","insertAtCursor","getText","data","clickedOutside","event","isReady","$target","target","is","parents","length","hidePicker","document","addEventListener","previousUnload","onunload","removeEventListener","TextEditor","items","Button","component","onclick","button","position","css","left","showPicker","className","icon","title","remove"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFAA;AAAAA;AAAAA,2DAAO,CAAC,sEAAD,CAAP;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oIAAoI;AACpI;;AAEA,CAAC;AACD,SAAS,IAA0F;;AAEnG;AACA,iBAAiB,mBAAO,EAAE,sBAAQ;AAClC,KAAK,MAAM,EAQN;AACL,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,yHAAyH,mEAAmE;AAC5L;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,uBAAuB,KAAK;AAC5B,uBAAuB,aAAa;AACpC,uBAAuB,IAAI;AAC3B,uBAAuB,IAAI;AAC3B,uBAAuB,IAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iCAAiC;AACjC,gCAAgC;AAChC,gCAAgC;AAChC,kCAAkC;AAClC,kCAAkC;AAClC,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM,MAAM,MAAM;AACrD,mCAAmC,MAAM;AACzC;AACA;AACA;AACA,2BAA2B;AAC3B,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,0BAA0B;AAC1B,0BAA0B;AAC1B,4BAA4B;AAC5B,4BAA4B;AAC5B,4BAA4B;AAC5B,2BAA2B;AAC3B,2BAA2B;AAC3B,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oBAAoB;AACjD;AACA,iCAAiC,6DAA6D;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,iCAAiC;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA,iBAAiB;;AAEjB;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,IAAI,uCAAuC,IAAI,4CAA4C,IAAI;AACxI,mEAAmE,IAAI,yCAAyC,IAAI;AACpH,+EAA+E,KAAK,UAAU,aAAa;AAC3G;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,QAAQ;AAC/C;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,SAAS;;AAET,oDAAoD,eAAe;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uEAAuE,KAAK,UAAU,aAAa,sBAAsB,IAAI;AAC7H,uEAAuE,KAAK,UAAU,aAAa,mDAAmD,IAAI;AAC1J;;AAEA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0DAA0D;AAC1D,6EAA6E;AAC7E,0DAA0D;AAC1D;AACA;;AAEA,oDAAoD,wBAAwB;AAC5E,8BAA8B,kBAAkB;AAChD,wCAAwC,oBAAoB;AAC5D,wCAAwC,wBAAwB;AAChE,8BAA8B,sBAAsB;AACpD,8BAA8B,gBAAgB;AAC9C,4DAA4D,0CAA0C,EAAE;AACxG,8BAA8B;AAC9B,0FAA0F;AAC1F;AACA,2DAA2D,sBAAsB;AACjF,8BAA8B,wBAAwB;;AAEtD;AACA,uCAAuC,qEAAqE;AAC5G;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC,sBAAsB;AAC/D,0BAA0B,gGAAgG;AAC1H;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,8CAA8C,gCAAgC;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,uCAAuC,IAAI,gFAAgF,IAAI,oCAAoC,IAAI;AACvK;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;;AAEA,CAAC;;;;;;;;;;;;;ACzsDD;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAMC,iBAAiB,GAAG,qCAA1B;AAEAC,iDAAG,CAACC,YAAJ,CAAiBC,GAAjB,CAAqB,8BAArB,EAAqD,YAAM;AACvDC,8DAAM,CAACC,qEAAY,CAACC,SAAd,EAAyB,QAAzB,EAAmC,UAAUC,OAAV,EAAmBC,aAAnB,EAAkCC,OAAlC,EAA2C;AAAA;;AAChF,QAAID,aAAJ,EAAmB;AAEnB,QAAME,UAAU,GAAGC,CAAC,CAAC,mDAAD,CAApB;AACA,SAAKA,CAAL,CAAO,sBAAP,EAA+BC,MAA/B,CAAsCF,UAAtC;AAEA,QAAMG,IAAI,GAAGF,CAAC,CAAC,SAAD,CAAD,CAAaG,YAAb,CAA0B;AACnCC,gBAAU,EAAE,IADuB;AACjB;AAClBC,YAAM,EAAEf,iDAAG,CAACgB,KAAJ,CAAUC,SAAV,CAAoB,0BAApB,CAF2B;AAGnCC,uBAAiB,EAAElB,iDAAG,CAACmB,UAAJ,CAAeC,KAAf,CAAqBrB,iBAAiB,GAAG,oBAAzC,CAHgB;AAInCsB,iBAAW,EAAErB,iDAAG,CAACmB,UAAJ,CAAeC,KAAf,CAAqBrB,iBAAiB,GAAG,eAAzC,CAJsB;AAKnCuB,kBAAY,EAAEtB,iDAAG,CAACgB,KAAJ,CAAUC,SAAV,CAAoB,0BAApB,CALqB;AAMnCM,qBAAe,EAAEvB,iDAAG,CAACgB,KAAJ,CAAUC,SAAV,CAAoB,mCAApB,IAA2D,QAA3D,GAAsE,KANpD;AAOnCO,oBAAc,EAAExB,iDAAG,CAACgB,KAAJ,CAAUC,SAAV,CAAoB,kCAApB,IAA0D,QAA1D,GAAqE,KAPlD;AAQnCQ,eAAS,EAAEhB,UARwB;AASnCiB,WAAK,EAAE1B,iDAAG,CAACgB,KAAJ,CAAUC,SAAV,CAAoB,yBAApB,CAT4B;AAUnCU,kBAAY,EAAE,KAVqB;AAUd;AACrBC,YAAM,EAAE;AAAE;AACNC,sBAAc,EAAE,0BAAM;AAClB;AACA,eAAI,CAACC,MAAL,CAAYC,cAAZ,CAA2B,KAAI,CAACD,MAAL,CAAYjB,YAAZ,CAAyBmB,OAAzB,EAA3B;AACH;AAJG;AAX2B,KAA1B,CAAb;AAmBA,SAAKF,MAAL,CAAYjB,YAAZ,GAA2BD,IAAI,CAACqB,IAAL,CAAU,cAAV,CAA3B;;AAEA,QAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,KAAK,EAAI;AAC5B;AACA,UAAI,CAAC,KAAI,CAACL,MAAL,CAAYjB,YAAZ,CAAyBuB,OAA9B,EAAuC;AACnC;AACH;;AAED,UAAMC,OAAO,GAAG3B,CAAC,CAACyB,KAAK,CAACG,MAAP,CAAjB,CAN4B,CAQ5B;;AACA,UAAID,OAAO,CAACE,EAAR,CAAW,eAAX,KAA+BF,OAAO,CAACG,OAAR,CAAgB,eAAhB,EAAiCC,MAAhE,IAA0EJ,OAAO,CAACG,OAAR,CAAgB,sBAAhB,EAAwCC,MAAtH,EAA8H;AAC1H;AACH;;AAED,WAAI,CAACX,MAAL,CAAYjB,YAAZ,CAAyB6B,UAAzB;AACH,KAdD;;AAgBAC,YAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCV,cAAnC;AAEA,QAAMW,cAAc,GAAGrC,OAAO,CAACsC,QAA/B;;AACAtC,WAAO,CAACsC,QAAR,GAAmB,YAAM;AACrB,UAAID,cAAJ,EAAoB;AAChBA,sBAAc;AACjB;;AACDF,cAAQ,CAACI,mBAAT,CAA6B,OAA7B,EAAsCb,cAAtC;AACH,KALD;AAMH,GApDK,CAAN;AAsDA/B,8DAAM,CAAC6C,mEAAU,CAAC3C,SAAZ,EAAuB,cAAvB,EAAuC,UAAU4C,KAAV,EAAiB;AAAA;;AAC1D;AACAA,SAAK,CAAC/C,GAAN,CAAU,8BAAV,EAA0CgD,+DAAM,CAACC,SAAP,CAAiB;AACvDC,aAAO,EAAE,mBAAM;AACX,YAAI,MAAI,CAACvC,YAAL,CAAkBwC,MAAlB,CAAyBd,EAAzB,CAA4B,SAA5B,CAAJ,EAA4C;AACxC,gBAAI,CAAC1B,YAAL,CAAkB6B,UAAlB;AACH,SAFD,MAEO;AACH,cAAMY,QAAQ,GAAG,MAAI,CAAC5C,CAAL,CAAO,sBAAP,EAA+B4C,QAA/B,EAAjB;;AACA,gBAAI,CAAC5C,CAAL,CAAO,sBAAP,EAA+B6C,GAA/B,CAAmC,MAAnC,EAA2CD,QAAQ,CAACE,IAAT,GAAgB,GAA3D;;AACA,gBAAI,CAAC3C,YAAL,CAAkB4C,UAAlB;AACH;AACJ,OATsD;AAUvDC,eAAS,EAAE,sDAV4C;AAWvDC,UAAI,EAAE,mBAXiD;AAYvDC,WAAK,EAAE5D,iDAAG,CAACmB,UAAJ,CAAeC,KAAf,CAAqBrB,iBAAiB,GAAG,eAAzC;AAZgD,KAAjB,CAA1C;;AAeA,QAAIC,iDAAG,CAACgB,KAAJ,CAAUC,SAAV,CAAoB,8BAApB,CAAJ,EAAyD;AACrDgC,WAAK,CAACY,MAAN,CAAa,OAAb;AACH;AACJ,GApBK,CAAN;AAqBH,CA5ED,E;;;;;;;;;;;ACVA,2C;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,+D;;;;;;;;;;;ACAA,6D;;;;;;;;;;;ACAA,8C;;;;;;;;;;;ACAA,wB","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","require('emojionearea');\n\nexport * from './src/forum';\n","/*!\n * EmojioneArea v3.4.0\n * https://github.com/mervick/emojionearea\n * Copyright Andrey Izman and other contributors\n * Released under the MIT license\n * Date: 2018-02-09T22:42Z\n */\nwindow = ( typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {} );\ndocument = window.document || {};\n\n; ( function ( factory, global ) {\n    if ( typeof require === \"function\" && typeof exports === \"object\" && typeof module === \"object\" ) {\n\n        // CommonJS\n        factory( require( \"jquery\" ) );\n    } else if ( typeof define === \"function\" && define.amd ) {\n\n        // AMD\n        define( [ \"jquery\" ], factory );\n    } else {\n\n        // Normal script tag\n        factory( global.jQuery );\n    }\n}( function ( $ ) {\n    \"use strict\";\n\n    var unique = 0;\n    var eventStorage = {};\n    var possibleEvents = {};\n    var emojione = window.emojione;\n    var readyCallbacks = [];\n    function emojioneReady (fn) {\n        if (emojione) {\n            fn();\n        } else {\n            readyCallbacks.push(fn);\n        }\n    };\n    var blankImg = 'data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==';\n    var slice = [].slice;\n    var css_class = \"emojionearea\";\n    var emojioneSupportMode = 0;\n    var invisibleChar = '&#8203;';\n    function trigger(self, event, args) {\n        var result = true, j = 1;\n        if (event) {\n            event = event.toLowerCase();\n            do {\n                var _event = j==1 ? '@' + event : event;\n                if (eventStorage[self.id][_event] && eventStorage[self.id][_event].length) {\n                    $.each(eventStorage[self.id][_event], function (i, fn) {\n                        return result = fn.apply(self, args|| []) !== false;\n                    });\n                }\n            } while (result && !!j--);\n        }\n        return result;\n    }\n    function attach(self, element, events, target) {\n        target = target || function (event, callerEvent) { return $(callerEvent.currentTarget) };\n        $.each(events, function(event, link) {\n            event = $.isArray(events) ? link : event;\n            (possibleEvents[self.id][link] || (possibleEvents[self.id][link] = []))\n                .push([element, event, target]);\n        });\n    }\n    function getTemplate(template, unicode, shortname) {\n        var imageType = emojione.imageType, imagePath;\n        if (imageType=='svg'){\n            imagePath = emojione.imagePathSVG;\n        } else {\n            imagePath = emojione.imagePathPNG;\n        }\n        var friendlyName = '';\n        if (shortname) {\n            friendlyName = shortname.substr(1, shortname.length - 2).replace(/_/g, ' ').replace(/\\w\\S*/g, function(txt) { return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\n        }\n        var fname = '';\n        if (unicode.uc_base && emojioneSupportMode > 4) {\n            fname = unicode.uc_base;\n            unicode = unicode.uc_output.toUpperCase();\n        } else {\n            fname = unicode;\n        }\n        return template\n            .replace('{name}', shortname || '')\n            .replace('{friendlyName}', friendlyName)\n            .replace('{img}', imagePath + (emojioneSupportMode < 2 ? fname.toUpperCase() : fname) + '.' + imageType)\n            .replace('{uni}', unicode)\n            .replace('{alt}', emojione.convert(unicode));\n    };\n    function shortnameTo(str, template, clear) {\n        return str.replace(/:?\\+?[\\w_\\-]+:?/g, function(shortname) {\n            shortname = \":\" + shortname.replace(/:$/,'').replace(/^:/,'') + \":\";\n            var unicode = emojione.emojioneList[shortname];\n            if (unicode) {\n                if (emojioneSupportMode > 4) {\n                    return getTemplate(template, unicode, shortname);\n                } else {\n                    if (emojioneSupportMode > 3) unicode = unicode.unicode;\n                    return getTemplate(template, unicode[unicode.length-1], shortname);\n                }\n            }\n            return clear ? '' : shortname;\n        });\n    };\n    function pasteHtmlAtCaret(html) {\n        var sel, range;\n        if (window.getSelection) {\n            sel = window.getSelection();\n            if (sel.getRangeAt && sel.rangeCount) {\n                range = sel.getRangeAt(0);\n                range.deleteContents();\n                var el = document.createElement(\"div\");\n                el.innerHTML = html;\n                var frag = document.createDocumentFragment(), node, lastNode;\n                while ( (node = el.firstChild) ) {\n                    lastNode = frag.appendChild(node);\n                }\n                range.insertNode(frag);\n                if (lastNode) {\n                    range = range.cloneRange();\n                    range.setStartAfter(lastNode);\n                    range.collapse(true);\n                    sel.removeAllRanges();\n                    sel.addRange(range);\n                }\n            }\n        } else if (document.selection && document.selection.type != \"Control\") {\n            document.selection.createRange().pasteHTML(html);\n        }\n    }\n    function getEmojioneVersion() {\n        return window.emojioneVersion || '3.1.2';\n    };\n    function isObject(variable) {\n        return typeof variable === 'object';\n    };\n    function detectVersion(emojione) {\n        var version;\n        if (emojione.cacheBustParam) {\n            version = emojione.cacheBustParam;\n            if (!isObject(emojione['jsEscapeMap'])) return '1.5.2';\n            if (version === \"?v=1.2.4\") return '2.0.0';\n            if (version === \"?v=2.0.1\") return '2.1.0'; // v2.0.1 || v2.1.0\n            if (version === \"?v=2.1.1\") return '2.1.1';\n            if (version === \"?v=2.1.2\") return '2.1.2';\n            if (version === \"?v=2.1.3\") return '2.1.3';\n            if (version === \"?v=2.1.4\") return '2.1.4';\n            if (version === \"?v=2.2.7\") return '2.2.7';\n            return '2.2.7';\n        } else {\n            return emojione.emojiVersion;\n        }\n    };\n    function getSupportMode(version) {\n        switch (version) {\n            case '1.5.2': return 0;\n            case '2.0.0': return 1;\n            case '2.1.0':\n            case '2.1.1': return 2;\n            case '2.1.2': return 3;\n            case '2.1.3':\n            case '2.1.4':\n            case '2.2.7': return 4;\n            case '3.0.1':\n            case '3.0.2':\n            case '3.0.3':\n            case '3.0': return 5;\n            case '3.1.0':\n            case '3.1.1':\n            case '3.1.2':\n            case '3.1':\n            default: return 6;\n        }\n    };\n    function getDefaultOptions () {\n        if ($.fn.emojioneArea && $.fn.emojioneArea.defaults) {\n            return $.fn.emojioneArea.defaults;\n        }\n\n        var defaultOptions = {\n            attributes: {\n                dir               : \"ltr\",\n                spellcheck        : false,\n                autocomplete      : \"off\",\n                autocorrect       : \"off\",\n                autocapitalize    : \"off\",\n            },\n            search            : true,\n            placeholder       : null,\n            emojiPlaceholder  : \":smiley:\",\n            searchPlaceholder : \"SEARCH\",\n            container         : null,\n            hideSource        : true,\n            shortnames        : true,\n            sprite            : true,\n            pickerPosition    : \"top\", // top | bottom | right\n            filtersPosition   : \"top\", // top | bottom\n            searchPosition    : \"top\", // top | bottom\n            hidePickerOnBlur  : true,\n            buttonTitle       : \"Use the TAB key to insert emoji faster\",\n            tones             : true,\n            tonesStyle        : \"bullet\", // bullet | radio | square | checkbox\n            inline            : null, // null - auto\n            saveEmojisAs      : \"unicode\", // unicode | shortname | image\n            shortcuts         : true,\n            autocomplete      : true,\n            autocompleteTones : false,\n            standalone        : false,\n            useInternalCDN    : true, // Use the self loading mechanism\n            imageType         : \"png\", // Default image type used by internal CDN\n            recentEmojis      : true,\n            textcomplete: {\n                maxCount      : 15,\n                placement     : null // null - default | top | absleft | absright\n            }\n        };\n\n        var supportMode = !emojione ? getSupportMode(getEmojioneVersion()) : getSupportMode(detectVersion(emojione));\n\n        if (supportMode > 4) {\n            defaultOptions.filters = {\n                tones: {\n                    title: \"Diversity\",\n                    emoji: \"open_hands raised_hands clap pray thumbsup thumbsdown punch fist left_facing_fist right_facing_fist \" +\n                    \"fingers_crossed v metal ok_hand point_left point_right point_up_2 point_down point_up raised_hand \" +\n                    \"raised_back_of_hand hand_splayed vulcan wave call_me muscle middle_finger writing_hand selfie nail_care ear \" +\n                    \"nose baby boy girl man woman blond-haired_woman blond_haired_person blond-haired_man older_man older_woman \" +\n                    \"man_with_chinese_cap woman_wearing_turban person_wearing_turban man_wearing_turban woman_police_officer \" +\n                    \"police_officer man_police_officer woman_construction_worker construction_worker man_construction_worker \" +\n                    \"woman_guard guard man_guard woman_detective detective man_detective woman_health_worker man_health_worker \" +\n                    \"woman_farmer man_farmer woman_cook man_cook woman_student man_student woman_singer man_singer woman_teacher \" +\n                    \"man_teacher woman_factory_worker man_factory_worker woman_technologist man_technologist woman_office_worker \" +\n                    \"man_office_worker woman_mechanic man_mechanic woman_scientist man_scientist woman_artist man_artist \" +\n                    \"woman_firefighter man_firefighter woman_pilot man_pilot woman_astronaut man_astronaut woman_judge \" +\n                    \"man_judge mrs_claus santa princess prince bride_with_veil man_in_tuxedo angel pregnant_woman woman_bowing \" +\n                    \"person_bowing man_bowing person_tipping_hand man_tipping_hand woman_tipping_hand person_gesturing_no \" +\n                    \"man_gesturing_no woman_gesturing_no person_gesturing_ok man_gesturing_ok woman_gesturing_ok \" +\n                    \"person_raising_hand man_raising_hand woman_raising_hand woman_facepalming man_facepalming person_facepalming \" +\n                    \"woman_shrugging man_shrugging person_shrugging person_pouting man_pouting woman_pouting person_frowning \" +\n                    \"man_frowning woman_frowning person_getting_haircut man_getting_haircut woman_getting_haircut \" +\n                    \"person_getting_massage man_getting_face_massage woman_getting_face_massage levitate dancer man_dancing \" +\n                    \"woman_walking person_walking man_walking woman_running person_running man_running adult child older_adult \" +\n                    \"bearded_person woman_with_headscarf mage fairy vampire merperson elf love_you_gesture palms_up_together \" +\n                    \"woman_mage man_mage woman_fairy man_fairy woman_vampire man_vampire mermaid merman woman_elf man_elf \" +\n                    \"snowboarder woman_lifting_weights person_lifting_weights man_lifting_weights woman_cartwheeling \" +\n                    \"man_cartwheeling person_doing_cartwheel woman_bouncing_ball person_bouncing_ball man_bouncing_ball \" +\n                    \"woman_playing_handball man_playing_handball person_playing_handball woman_golfing person_golfing man_golfing \" +\n                    \"woman_surfing person_surfing man_surfing woman_swimming person_swimming man_swimming woman_playing_water_polo \" +\n                    \"man_playing_water_polo person_playing_water_polo woman_rowing_boat person_rowing_boat man_rowing_boat \" +\n                    \"horse_racing woman_biking person_biking man_biking woman_mountain_biking person_mountain_biking \" +\n                    \"man_mountain_biking woman_juggling man_juggling person_juggling breast_feeding person_in_steamy_room \" +\n                    \"person_climbing person_in_lotus_position woman_in_steamy_room man_in_steamy_room woman_climbing \" +\n                    \"man_climbing woman_in_lotus_position man_in_lotus_position bath sleeping_accommodation\"\n                },\n\n                recent: {\n                    icon: \"clock3\",\n                    title: \"Recent\",\n                    emoji: \"\"\n                },\n\n                smileys_people: {\n                    icon: \"yum\",\n                    title: \"Smileys & People\",\n                    emoji: \"grinning smiley smile grin laughing sweat_smile joy rofl relaxed blush innocent slight_smile upside_down \" +\n                    \"wink relieved heart_eyes kissing_heart kissing kissing_smiling_eyes kissing_closed_eyes yum \" +\n                    \"stuck_out_tongue_winking_eye stuck_out_tongue_closed_eyes stuck_out_tongue money_mouth hugging nerd sunglasses \" +\n                    \"clown cowboy smirk unamused disappointed pensive worried confused slight_frown frowning2 persevere confounded \" +\n                    \"tired_face weary triumph angry rage no_mouth neutral_face expressionless hushed frowning anguished open_mouth \" +\n                    \"astonished dizzy_face flushed scream fearful cold_sweat cry disappointed_relieved drooling_face sob sweat sleepy \" +\n                    \"sleeping rolling_eyes thinking lying_face grimacing zipper_mouth nauseated_face sneezing_face mask thermometer_face \" +\n                    \"head_bandage smiling_imp imp japanese_ogre japanese_goblin poop ghost skull skull_crossbones alien space_invader \" +\n                    \"robot jack_o_lantern smiley_cat smile_cat joy_cat heart_eyes_cat smirk_cat kissing_cat scream_cat crying_cat_face \" +\n                    \"pouting_cat open_hands raised_hands clap pray handshake thumbsup thumbsdown punch fist left_facing_fist \" +\n                    \"right_facing_fist fingers_crossed v metal ok_hand point_left point_right point_up_2 point_down point_up \" +\n                    \"raised_hand raised_back_of_hand hand_splayed vulcan wave call_me muscle middle_finger writing_hand selfie \" +\n                    \"nail_care ring lipstick kiss lips tongue ear nose footprints eye eyes speaking_head bust_in_silhouette \" +\n                    \"busts_in_silhouette baby boy girl man woman blond-haired_woman blond_haired_person older_man older_woman \" +\n                    \"man_with_chinese_cap woman_wearing_turban person_wearing_turban woman_police_officer police_officer \" +\n                    \"woman_construction_worker construction_worker woman_guard guard woman_detective detective woman_health_worker \" +\n                    \"man_health_worker woman_farmer man_farmer woman_cook man_cook woman_student man_student woman_singer man_singer \" +\n                    \"woman_teacher man_teacher woman_factory_worker man_factory_worker woman_technologist man_technologist \" +\n                    \"woman_office_worker man_office_worker woman_mechanic man_mechanic woman_scientist man_scientist woman_artist \" +\n                    \"man_artist woman_firefighter man_firefighter woman_pilot man_pilot woman_astronaut man_astronaut woman_judge \" +\n                    \"man_judge mrs_claus santa princess prince bride_with_veil man_in_tuxedo angel pregnant_woman woman_bowing \" +\n                    \"person_bowing person_tipping_hand man_tipping_hand person_gesturing_no man_gesturing_no person_gesturing_ok \" +\n                    \"man_gesturing_ok person_raising_hand man_raising_hand woman_facepalming man_facepalming woman_shrugging \" +\n                    \"man_shrugging person_pouting man_pouting person_frowning man_frowning person_getting_haircut man_getting_haircut \" +\n                    \"person_getting_massage man_getting_face_massage levitate dancer man_dancing people_with_bunny_ears_partying \" +\n                    \"men_with_bunny_ears_partying woman_walking person_walking woman_running person_running couple two_women_holding_hands \" +\n                    \"two_men_holding_hands couple_with_heart couple_ww couple_mm couplekiss kiss_ww kiss_mm family family_mwg family_mwgb \" +\n                    \"family_mwbb family_mwgg family_wwb family_wwg family_wwgb family_wwbb family_wwgg family_mmb family_mmg family_mmgb \" +\n                    \"family_mmbb family_mmgg family_woman_boy family_woman_girl family_woman_girl_boy family_woman_boy_boy \" +\n                    \"family_woman_girl_girl family_man_boy family_man_girl family_man_girl_boy family_man_boy_boy family_man_girl_girl \" +\n                    \"womans_clothes shirt jeans necktie dress bikini kimono high_heel sandal boot mans_shoe athletic_shoe womans_hat \" +\n                    \"tophat mortar_board crown helmet_with_cross school_satchel pouch purse handbag briefcase eyeglasses dark_sunglasses \" +\n                    \"closed_umbrella umbrella2 face_with_raised_eyebrow star_struck crazy_face shushing_face face_with_symbols_over_mouth \" +\n                    \"face_with_hand_over_mouth face_vomiting exploding_head face_with_monocle adult child older_adult bearded_person \" +\n                    \"woman_with_headscarf brain billed_cap scarf gloves coat socks love_you_gesture palms_up_together woman_mage \" +\n                    \"man_mage woman_fairy man_fairy woman_vampire man_vampire mermaid merman woman_elf man_elf woman_genie man_genie \" +\n                    \"woman_zombie man_zombie\"\n                },\n\n                animals_nature: {\n                    icon: \"hamster\",\n                    title: \"Animals & Nature\",\n                    emoji: \"dog cat mouse hamster rabbit fox bear panda_face koala tiger lion_face cow pig pig_nose frog monkey_face see_no_evil \" +\n                    \"hear_no_evil speak_no_evil monkey chicken penguin bird baby_chick hatching_chick hatched_chick duck eagle owl bat wolf boar \" +\n                    \"horse unicorn bee bug butterfly snail shell beetle ant spider spider_web turtle snake lizard scorpion crab squid octopus shrimp \" +\n                    \"tropical_fish fish blowfish dolphin shark whale whale2 crocodile leopard tiger2 water_buffalo ox cow2 deer dromedary_camel camel \" +\n                    \"elephant rhino gorilla racehorse pig2 goat ram sheep dog2 poodle cat2 rooster turkey dove rabbit2 mouse2 rat chipmunk feet \" +\n                    \"dragon dragon_face cactus christmas_tree evergreen_tree deciduous_tree palm_tree seedling herb shamrock four_leaf_clover \" +\n                    \"bamboo tanabata_tree leaves fallen_leaf maple_leaf mushroom ear_of_rice bouquet tulip rose wilted_rose sunflower blossom \" +\n                    \"cherry_blossom hibiscus earth_americas earth_africa earth_asia full_moon waning_gibbous_moon last_quarter_moon \" +\n                    \"waning_crescent_moon new_moon waxing_crescent_moon first_quarter_moon waxing_gibbous_moon new_moon_with_face \" +\n                    \"full_moon_with_face sun_with_face first_quarter_moon_with_face last_quarter_moon_with_face crescent_moon dizzy star star2 \" +\n                    \"sparkles zap fire boom comet sunny white_sun_small_cloud partly_sunny white_sun_cloud white_sun_rain_cloud rainbow cloud \" +\n                    \"cloud_rain thunder_cloud_rain cloud_lightning cloud_snow snowman2 snowman snowflake wind_blowing_face dash cloud_tornado \" +\n                    \"fog ocean droplet sweat_drops umbrella giraffe zebra hedgehog sauropod t_rex cricket\"\n                },\n\n                food_drink: {\n                    icon: \"pizza\",\n                    title: \"Food & Drink\",\n                    emoji: \"green_apple apple pear tangerine lemon banana watermelon grapes strawberry melon cherries peach pineapple kiwi \" +\n                    \"avocado tomato eggplant cucumber carrot corn hot_pepper potato sweet_potato chestnut peanuts honey_pot croissant \" +\n                    \"bread french_bread cheese egg cooking bacon pancakes fried_shrimp poultry_leg meat_on_bone pizza hotdog hamburger \" +\n                    \"fries stuffed_flatbread taco burrito salad shallow_pan_of_food spaghetti ramen stew fish_cake sushi bento curry \" +\n                    \"rice_ball rice rice_cracker oden dango shaved_ice ice_cream icecream cake birthday custard lollipop candy \" +\n                    \"chocolate_bar popcorn doughnut cookie milk baby_bottle coffee tea sake beer beers champagne_glass wine_glass \" +\n                    \"tumbler_glass cocktail tropical_drink champagne spoon fork_and_knife fork_knife_plate dumpling fortune_cookie \" +\n                    \"takeout_box chopsticks bowl_with_spoon cup_with_straw coconut broccoli pie pretzel cut_of_meat sandwich canned_food\"\n                },\n\n                activity: {\n                    icon: \"basketball\",\n                    title: \"Activity\",\n                    emoji: \"soccer basketball football baseball tennis volleyball rugby_football 8ball ping_pong badminton goal hockey field_hockey \" +\n                    \"cricket_game golf bow_and_arrow fishing_pole_and_fish boxing_glove martial_arts_uniform ice_skate ski skier snowboarder \" +\n                    \"woman_lifting_weights person_lifting_weights person_fencing women_wrestling men_wrestling woman_cartwheeling \" +\n                    \"man_cartwheeling woman_bouncing_ball person_bouncing_ball woman_playing_handball man_playing_handball woman_golfing \" +\n                    \"person_golfing woman_surfing person_surfing woman_swimming person_swimming woman_playing_water_polo \" +\n                    \"man_playing_water_polo woman_rowing_boat person_rowing_boat horse_racing woman_biking person_biking \" +\n                    \"woman_mountain_biking person_mountain_biking running_shirt_with_sash medal military_medal first_place second_place \" +\n                    \"third_place trophy rosette reminder_ribbon ticket tickets circus_tent woman_juggling man_juggling performing_arts art \" +\n                    \"clapper microphone headphones musical_score musical_keyboard drum saxophone trumpet guitar violin game_die dart bowling \" +\n                    \"video_game slot_machine sled breast_feeding curling_stone woman_in_steamy_room man_in_steamy_room woman_climbing \" +\n                    \"man_climbing woman_in_lotus_position man_in_lotus_position\"\n                },\n\n                travel_places: {\n                    icon: \"rocket\",\n                    title: \"Travel & Places\",\n                    emoji: \"red_car taxi blue_car bus trolleybus race_car police_car ambulance fire_engine minibus truck articulated_lorry tractor \" +\n                    \"scooter bike motor_scooter motorcycle rotating_light oncoming_police_car oncoming_bus oncoming_automobile oncoming_taxi \" +\n                    \"aerial_tramway mountain_cableway suspension_railway railway_car train mountain_railway monorail bullettrain_side \" +\n                    \"bullettrain_front light_rail steam_locomotive train2 metro tram station helicopter airplane_small airplane \" +\n                    \"airplane_departure airplane_arriving rocket satellite_orbital seat canoe sailboat motorboat speedboat cruise_ship \" +\n                    \"ferry ship anchor construction fuelpump busstop vertical_traffic_light traffic_light map moyai statue_of_liberty \" +\n                    \"fountain tokyo_tower european_castle japanese_castle stadium ferris_wheel roller_coaster carousel_horse beach_umbrella \" +\n                    \"beach island mountain mountain_snow mount_fuji volcano desert camping tent railway_track motorway construction_site \" +\n                    \"factory house house_with_garden homes house_abandoned office department_store post_office european_post_office hospital \" +\n                    \"bank hotel convenience_store school love_hotel wedding classical_building church mosque synagogue kaaba shinto_shrine \" +\n                    \"japan rice_scene park sunrise sunrise_over_mountains stars sparkler fireworks city_sunset city_dusk cityscape \" +\n                    \"night_with_stars milky_way bridge_at_night foggy flying_saucer\"\n                },\n\n                objects: {\n                    icon: \"bulb\",\n                    title: \"Objects\",\n                    emoji: \"watch iphone calling computer keyboard desktop printer mouse_three_button trackball joystick compression minidisc \" +\n                    \"floppy_disk cd dvd vhs camera camera_with_flash video_camera movie_camera projector film_frames telephone_receiver \" +\n                    \"telephone pager fax tv radio microphone2 level_slider control_knobs stopwatch timer alarm_clock clock hourglass \" +\n                    \"hourglass_flowing_sand satellite battery electric_plug bulb flashlight candle wastebasket oil money_with_wings \" +\n                    \"dollar yen euro pound moneybag credit_card gem scales wrench hammer hammer_pick tools pick nut_and_bolt gear \" +\n                    \"chains gun bomb knife dagger crossed_swords shield smoking coffin urn amphora crystal_ball prayer_beads barber \" +\n                    \"alembic telescope microscope hole pill syringe thermometer toilet potable_water shower bathtub bath bellhop key \" +\n                    \"key2 door couch bed sleeping_accommodation frame_photo shopping_bags shopping_cart gift balloon flags ribbon \" +\n                    \"confetti_ball tada dolls izakaya_lantern wind_chime envelope envelope_with_arrow incoming_envelope e-mail \" +\n                    \"love_letter inbox_tray outbox_tray package label mailbox_closed mailbox mailbox_with_mail mailbox_with_no_mail \" +\n                    \"postbox postal_horn scroll page_with_curl page_facing_up bookmark_tabs bar_chart chart_with_upwards_trend \" +\n                    \"chart_with_downwards_trend notepad_spiral calendar_spiral calendar date card_index card_box ballot_box \" +\n                    \"file_cabinet clipboard file_folder open_file_folder dividers newspaper2 newspaper notebook \" +\n                    \"notebook_with_decorative_cover ledger closed_book green_book blue_book orange_book books book bookmark link \" +\n                    \"paperclip paperclips triangular_ruler straight_ruler pushpin round_pushpin scissors pen_ballpoint pen_fountain \" +\n                    \"black_nib paintbrush crayon pencil pencil2 mag mag_right lock_with_ink_pen closed_lock_with_key lock unlock orange_heart\"\n                },\n\n                symbols: {\n                    icon: \"heartpulse\",\n                    title: \"Symbols\",\n                    emoji: \"heart yellow_heart green_heart blue_heart purple_heart black_heart broken_heart heart_exclamation two_hearts \" +\n                    \"revolving_hearts heartbeat heartpulse sparkling_heart cupid gift_heart heart_decoration peace cross star_and_crescent \" +\n                    \"om_symbol wheel_of_dharma star_of_david six_pointed_star menorah yin_yang orthodox_cross place_of_worship ophiuchus \" +\n                    \"aries taurus gemini cancer leo virgo libra scorpius sagittarius capricorn aquarius pisces id atom accept radioactive \" +\n                    \"biohazard mobile_phone_off vibration_mode u6709 u7121 u7533 u55b6 u6708 eight_pointed_black_star vs white_flower \" +\n                    \"ideograph_advantage secret congratulations u5408 u6e80 u5272 u7981 a b ab cl o2 sos x o octagonal_sign no_entry \" +\n                    \"name_badge no_entry_sign 100 anger hotsprings no_pedestrians do_not_litter no_bicycles non-potable_water underage \" +\n                    \"no_mobile_phones no_smoking exclamation grey_exclamation question grey_question bangbang interrobang low_brightness \" +\n                    \"high_brightness part_alternation_mark warning children_crossing trident fleur-de-lis beginner recycle \" +\n                    \"white_check_mark u6307 chart sparkle eight_spoked_asterisk negative_squared_cross_mark globe_with_meridians \" +\n                    \"diamond_shape_with_a_dot_inside m cyclone zzz atm wc wheelchair parking u7a7a sa passport_control customs \" +\n                    \"baggage_claim left_luggage mens womens baby_symbol restroom put_litter_in_its_place cinema signal_strength koko \" +\n                    \"symbols information_source abc abcd capital_abcd ng ok up cool new free zero one two three four five six seven \" +\n                    \"eight nine keycap_ten 1234 hash asterisk arrow_forward pause_button play_pause stop_button record_button eject \" +\n                    \"track_next track_previous fast_forward rewind arrow_double_up arrow_double_down arrow_backward arrow_up_small \" +\n                    \"arrow_down_small arrow_right arrow_left arrow_up arrow_down arrow_upper_right arrow_lower_right arrow_lower_left \" +\n                    \"arrow_upper_left arrow_up_down left_right_arrow arrow_right_hook leftwards_arrow_with_hook arrow_heading_up \" +\n                    \"arrow_heading_down twisted_rightwards_arrows repeat repeat_one arrows_counterclockwise arrows_clockwise \" +\n                    \"musical_note notes heavy_plus_sign heavy_minus_sign heavy_division_sign heavy_multiplication_x heavy_dollar_sign \" +\n                    \"currency_exchange tm copyright registered wavy_dash curly_loop loop end back on top soon heavy_check_mark \" +\n                    \"ballot_box_with_check radio_button white_circle black_circle red_circle blue_circle small_red_triangle \" +\n                    \"small_red_triangle_down small_orange_diamond small_blue_diamond large_orange_diamond large_blue_diamond \" +\n                    \"white_square_button black_square_button black_small_square white_small_square black_medium_small_square \" +\n                    \"white_medium_small_square black_medium_square white_medium_square black_large_square white_large_square speaker \" +\n                    \"mute sound loud_sound bell no_bell mega loudspeaker speech_left eye_in_speech_bubble speech_balloon thought_balloon \" +\n                    \"anger_right spades clubs hearts diamonds black_joker flower_playing_cards mahjong clock1 clock2 clock3 clock4 clock5 \" +\n                    \"clock6 clock7 clock8 clock9 clock10 clock11 clock12 clock130 clock230 clock330 clock430 clock530 clock630 \" +\n                    \"clock730 clock830 clock930 clock1030 clock1130 clock1230\"\n                },\n\n                flags: {\n                    icon: \"flag_gb\",\n                    title: \"Flags\",\n                    emoji: \"flag_white flag_black checkered_flag triangular_flag_on_post rainbow_flag flag_af flag_ax flag_al flag_dz flag_as \" +\n                    \"flag_ad flag_ao flag_ai flag_aq flag_ag flag_ar flag_am flag_aw flag_au flag_at flag_az flag_bs flag_bh flag_bd flag_bb \" +\n                    \"flag_by flag_be flag_bz flag_bj flag_bm flag_bt flag_bo flag_ba flag_bw flag_br flag_io flag_vg flag_bn flag_bg flag_bf \" +\n                    \"flag_bi flag_kh flag_cm flag_ca flag_ic flag_cv flag_bq flag_ky flag_cf flag_td flag_cl flag_cn flag_cx flag_cc flag_co \" +\n                    \"flag_km flag_cg flag_cd flag_ck flag_cr flag_ci flag_hr flag_cu flag_cw flag_cy flag_cz flag_dk flag_dj flag_dm flag_do \" +\n                    \"flag_ec flag_eg flag_sv flag_gq flag_er flag_ee flag_et flag_eu flag_fk flag_fo flag_fj flag_fi flag_fr flag_gf flag_pf \" +\n                    \"flag_tf flag_ga flag_gm flag_ge flag_de flag_gh flag_gi flag_gr flag_gl flag_gd flag_gp flag_gu flag_gt flag_gg flag_gn \" +\n                    \"flag_gw flag_gy flag_ht flag_hn flag_hk flag_hu flag_is flag_in flag_id flag_ir flag_iq flag_ie flag_im flag_il flag_it \" +\n                    \"flag_jm flag_jp crossed_flags flag_je flag_jo flag_kz flag_ke flag_ki flag_xk flag_kw flag_kg flag_la flag_lv flag_lb \" +\n                    \"flag_ls flag_lr flag_ly flag_li flag_lt flag_lu flag_mo flag_mk flag_mg flag_mw flag_my flag_mv flag_ml flag_mt flag_mh \" +\n                    \"flag_mq flag_mr flag_mu flag_yt flag_mx flag_fm flag_md flag_mc flag_mn flag_me flag_ms flag_ma flag_mz flag_mm flag_na \" +\n                    \"flag_nr flag_np flag_nl flag_nc flag_nz flag_ni flag_ne flag_ng flag_nu flag_nf flag_kp flag_mp flag_no flag_om flag_pk \" +\n                    \"flag_pw flag_ps flag_pa flag_pg flag_py flag_pe flag_ph flag_pn flag_pl flag_pt flag_pr flag_qa flag_re flag_ro flag_ru \" +\n                    \"flag_rw flag_ws flag_sm flag_st flag_sa flag_sn flag_rs flag_sc flag_sl flag_sg flag_sx flag_sk flag_si flag_gs flag_sb \" +\n                    \"flag_so flag_za flag_kr flag_ss flag_es flag_lk flag_bl flag_sh flag_kn flag_lc flag_pm flag_vc flag_sd flag_sr flag_sz \" +\n                    \"flag_se flag_ch flag_sy flag_tw flag_tj flag_tz flag_th flag_tl flag_tg flag_tk flag_to flag_tt flag_tn flag_tr flag_tm \" +\n                    \"flag_tc flag_tv flag_vi flag_ug flag_ua flag_ae flag_gb flag_us flag_uy flag_uz flag_vu flag_va flag_ve flag_vn flag_wf \" +\n                    \"flag_eh flag_ye flag_zm flag_zw flag_ac flag_ta flag_bv flag_hm flag_sj flag_um flag_ea flag_cp flag_dg flag_mf \" +\n                    \"united_nations england scotland wales\"\n                }\n            };\n        } else {\n            defaultOptions.filters = {\n                tones: {\n                    title: \"Diversity\",\n                    emoji: \"santa runner surfer swimmer lifter ear nose point_up_2 point_down point_left point_right punch \" +\n                    \"wave ok_hand thumbsup thumbsdown clap open_hands boy girl man woman cop bride_with_veil person_with_blond_hair \" +\n                    \"man_with_gua_pi_mao man_with_turban older_man grandma baby construction_worker princess angel \" +\n                    \"information_desk_person guardsman dancer nail_care massage haircut muscle spy hand_splayed middle_finger \" +\n                    \"vulcan no_good ok_woman bow raising_hand raised_hands person_frowning person_with_pouting_face pray rowboat \" +\n                    \"bicyclist mountain_bicyclist walking bath metal point_up basketball_player fist raised_hand v writing_hand\"\n                },\n\n                recent: {\n                    icon: \"clock3\",\n                    title: \"Recent\",\n                    emoji: \"\"\n                },\n\n                smileys_people: {\n                    icon: \"yum\",\n                    title: \"Smileys & People\",\n                    emoji: \"grinning grimacing grin joy smiley smile sweat_smile laughing innocent wink blush slight_smile \" +\n                    \"upside_down relaxed yum relieved heart_eyes kissing_heart kissing kissing_smiling_eyes \" +\n                    \"kissing_closed_eyes stuck_out_tongue_winking_eye stuck_out_tongue_closed_eyes stuck_out_tongue \" +\n                    \"money_mouth nerd sunglasses hugging smirk no_mouth neutral_face expressionless unamused rolling_eyes \" +\n                    \"thinking flushed disappointed worried angry rage pensive confused slight_frown frowning2 persevere \" +\n                    \"confounded tired_face weary triumph open_mouth scream fearful cold_sweat hushed frowning anguished \" +\n                    \"cry disappointed_relieved sleepy sweat sob dizzy_face astonished zipper_mouth mask thermometer_face \" +\n                    \"head_bandage sleeping zzz poop smiling_imp imp japanese_ogre japanese_goblin skull ghost alien robot \" +\n                    \"smiley_cat smile_cat joy_cat heart_eyes_cat smirk_cat kissing_cat scream_cat crying_cat_face \" +\n                    \"pouting_cat raised_hands clap wave thumbsup thumbsdown punch fist v ok_hand raised_hand open_hands \" +\n                    \"muscle pray point_up point_up_2 point_down point_left point_right middle_finger hand_splayed metal \" +\n                    \"vulcan writing_hand nail_care lips tongue ear nose eye eyes bust_in_silhouette busts_in_silhouette \" +\n                    \"speaking_head baby boy girl man woman person_with_blond_hair older_man older_woman man_with_gua_pi_mao \" +\n                    \"man_with_turban cop construction_worker guardsman spy santa angel princess bride_with_veil walking \" +\n                    \"runner dancer dancers couple two_men_holding_hands two_women_holding_hands bow information_desk_person \" +\n                    \"no_good ok_woman raising_hand person_with_pouting_face person_frowning haircut massage couple_with_heart \" +\n                    \"couple_ww couple_mm couplekiss kiss_ww kiss_mm family family_mwg family_mwgb family_mwbb family_mwgg \" +\n                    \"family_wwb family_wwg family_wwgb family_wwbb family_wwgg family_mmb family_mmg family_mmgb family_mmbb \" +\n                    \"family_mmgg womans_clothes shirt jeans necktie dress bikini kimono lipstick kiss footprints high_heel \" +\n                    \"sandal boot mans_shoe athletic_shoe womans_hat tophat helmet_with_cross mortar_board crown school_satchel \" +\n                    \"pouch purse handbag briefcase eyeglasses dark_sunglasses ring closed_umbrella\"\n                },\n\n                animals_nature: {\n                    icon: \"hamster\",\n                    title: \"Animals & Nature\",\n                    emoji: \"dog cat mouse hamster rabbit bear panda_face koala tiger lion_face cow pig pig_nose frog \" +\n                    \"octopus monkey_face see_no_evil hear_no_evil speak_no_evil monkey chicken penguin bird baby_chick \" +\n                    \"hatching_chick hatched_chick wolf boar horse unicorn bee bug snail beetle ant spider scorpion crab \" +\n                    \"snake turtle tropical_fish fish blowfish dolphin whale whale2 crocodile leopard tiger2 water_buffalo \" +\n                    \"ox cow2 dromedary_camel camel elephant goat ram sheep racehorse pig2 rat mouse2 rooster turkey dove \" +\n                    \"dog2 poodle cat2 rabbit2 chipmunk feet dragon dragon_face cactus christmas_tree evergreen_tree \" +\n                    \"deciduous_tree palm_tree seedling herb shamrock four_leaf_clover bamboo tanabata_tree leaves \" +\n                    \"fallen_leaf maple_leaf ear_of_rice hibiscus sunflower rose tulip blossom cherry_blossom bouquet \" +\n                    \"mushroom chestnut jack_o_lantern shell spider_web earth_americas earth_africa earth_asia full_moon \" +\n                    \"waning_gibbous_moon last_quarter_moon waning_crescent_moon new_moon waxing_crescent_moon \" +\n                    \"first_quarter_moon waxing_gibbous_moon new_moon_with_face full_moon_with_face first_quarter_moon_with_face \" +\n                    \"last_quarter_moon_with_face sun_with_face crescent_moon star star2 dizzy sparkles comet sunny \" +\n                    \"white_sun_small_cloud partly_sunny white_sun_cloud white_sun_rain_cloud cloud cloud_rain \" +\n                    \"thunder_cloud_rain cloud_lightning zap fire boom snowflake cloud_snow snowman2 snowman wind_blowing_face \" +\n                    \"dash cloud_tornado fog umbrella2 umbrella droplet sweat_drops ocean\"\n                },\n\n                food_drink: {\n                    icon: \"pizza\",\n                    title: \"Food & Drink\",\n                    emoji: \"green_apple apple pear tangerine lemon banana watermelon grapes strawberry melon cherries peach \" +\n                    \"pineapple tomato eggplant hot_pepper corn sweet_potato honey_pot bread cheese poultry_leg meat_on_bone \" +\n                    \"fried_shrimp egg hamburger fries hotdog pizza spaghetti taco burrito ramen stew fish_cake sushi bento \" +\n                    \"curry rice_ball rice rice_cracker oden dango shaved_ice ice_cream icecream cake birthday custard candy \" +\n                    \"lollipop chocolate_bar popcorn doughnut cookie beer beers wine_glass cocktail tropical_drink champagne \" +\n                    \"sake tea coffee baby_bottle fork_and_knife fork_knife_plate\"\n                },\n\n                activity: {\n                    icon: \"basketball\",\n                    title: \"Activity\",\n                    emoji: \"soccer basketball football baseball tennis volleyball rugby_football 8ball golf golfer ping_pong \" +\n                    \"badminton hockey field_hockey cricket ski skier snowboarder ice_skate bow_and_arrow fishing_pole_and_fish \" +\n                    \"rowboat swimmer surfer bath basketball_player lifter bicyclist mountain_bicyclist horse_racing levitate \" +\n                    \"trophy running_shirt_with_sash medal military_medal reminder_ribbon rosette ticket tickets performing_arts \" +\n                    \"art circus_tent microphone headphones musical_score musical_keyboard saxophone trumpet guitar violin \" +\n                    \"clapper video_game space_invader dart game_die slot_machine bowling\"\n                },\n\n                travel_places: {\n                    icon: \"rocket\",\n                    title: \"Travel & Places\",\n                    emoji: \"red_car taxi blue_car bus trolleybus race_car police_car ambulance fire_engine minibus truck \" +\n                    \"articulated_lorry tractor motorcycle bike rotating_light oncoming_police_car oncoming_bus \" +\n                    \"oncoming_automobile oncoming_taxi aerial_tramway mountain_cableway suspension_railway railway_car \" +\n                    \"train monorail bullettrain_side bullettrain_front light_rail mountain_railway steam_locomotive train2 \" +\n                    \"metro tram station helicopter airplane_small airplane airplane_departure airplane_arriving sailboat \" +\n                    \"motorboat speedboat ferry cruise_ship rocket satellite_orbital seat anchor construction fuelpump busstop \" +\n                    \"vertical_traffic_light traffic_light checkered_flag ship ferris_wheel roller_coaster carousel_horse \" +\n                    \"construction_site foggy tokyo_tower factory fountain rice_scene mountain mountain_snow mount_fuji volcano \" +\n                    \"japan camping tent park motorway railway_track sunrise sunrise_over_mountains desert beach island \" +\n                    \"city_sunset city_dusk cityscape night_with_stars bridge_at_night milky_way stars sparkler fireworks \" +\n                    \"rainbow homes european_castle japanese_castle stadium statue_of_liberty house house_with_garden \" +\n                    \"house_abandoned office department_store post_office european_post_office hospital bank hotel \" +\n                    \"convenience_store school love_hotel wedding classical_building church mosque synagogue kaaba shinto_shrine\"\n                },\n\n                objects: {\n                    icon: \"bulb\",\n                    title: \"Objects\",\n                    emoji: \"watch iphone calling computer keyboard desktop printer mouse_three_button trackball joystick \" +\n                    \"compression minidisc floppy_disk cd dvd vhs camera camera_with_flash video_camera movie_camera projector \" +\n                    \"film_frames telephone_receiver telephone pager fax tv radio microphone2 level_slider control_knobs \" +\n                    \"stopwatch timer alarm_clock clock hourglass_flowing_sand hourglass satellite battery electric_plug bulb \" +\n                    \"flashlight candle wastebasket oil money_with_wings dollar yen euro pound moneybag credit_card gem scales \" +\n                    \"wrench hammer hammer_pick tools pick nut_and_bolt gear chains gun bomb knife dagger crossed_swords shield \" +\n                    \"smoking skull_crossbones coffin urn amphora crystal_ball prayer_beads barber alembic telescope microscope \" +\n                    \"hole pill syringe thermometer label bookmark toilet shower bathtub key key2 couch sleeping_accommodation \" +\n                    \"bed door bellhop frame_photo map beach_umbrella moyai shopping_bags balloon flags ribbon gift confetti_ball \" +\n                    \"tada dolls wind_chime crossed_flags izakaya_lantern envelope envelope_with_arrow incoming_envelope e-mail \" +\n                    \"love_letter postbox mailbox_closed mailbox mailbox_with_mail mailbox_with_no_mail package postal_horn \" +\n                    \"inbox_tray outbox_tray scroll page_with_curl bookmark_tabs bar_chart chart_with_upwards_trend \" +\n                    \"chart_with_downwards_trend page_facing_up date calendar calendar_spiral card_index card_box ballot_box \" +\n                    \"file_cabinet clipboard notepad_spiral file_folder open_file_folder dividers newspaper2 newspaper notebook \" +\n                    \"closed_book green_book blue_book orange_book notebook_with_decorative_cover ledger books book link \" +\n                    \"paperclip paperclips scissors triangular_ruler straight_ruler pushpin round_pushpin triangular_flag_on_post \" +\n                    \"flag_white flag_black closed_lock_with_key lock unlock lock_with_ink_pen pen_ballpoint pen_fountain \" +\n                    \"black_nib pencil pencil2 crayon paintbrush mag mag_right\"\n                },\n\n                symbols: {\n                    icon: \"heartpulse\",\n                    title: \"Symbols\",\n                    emoji: \"heart yellow_heart green_heart blue_heart purple_heart broken_heart heart_exclamation two_hearts \" +\n                    \"revolving_hearts heartbeat heartpulse sparkling_heart cupid gift_heart heart_decoration peace cross \" +\n                    \"star_and_crescent om_symbol wheel_of_dharma star_of_david six_pointed_star menorah yin_yang orthodox_cross \" +\n                    \"place_of_worship ophiuchus aries taurus gemini cancer leo virgo libra scorpius sagittarius capricorn \" +\n                    \"aquarius pisces id atom u7a7a u5272 radioactive biohazard mobile_phone_off vibration_mode u6709 u7121 \" +\n                    \"u7533 u55b6 u6708 eight_pointed_black_star vs accept white_flower ideograph_advantage secret congratulations \" +\n                    \"u5408 u6e80 u7981 a b ab cl o2 sos no_entry name_badge no_entry_sign x o anger hotsprings no_pedestrians \" +\n                    \"do_not_litter no_bicycles non-potable_water underage no_mobile_phones exclamation grey_exclamation question \" +\n                    \"grey_question bangbang interrobang 100 low_brightness high_brightness trident fleur-de-lis part_alternation_mark \" +\n                    \"warning children_crossing beginner recycle u6307 chart sparkle eight_spoked_asterisk negative_squared_cross_mark \" +\n                    \"white_check_mark diamond_shape_with_a_dot_inside cyclone loop globe_with_meridians m atm sa passport_control \" +\n                    \"customs baggage_claim left_luggage wheelchair no_smoking wc parking potable_water mens womens baby_symbol \" +\n                    \"restroom put_litter_in_its_place cinema signal_strength koko ng ok up cool new free zero one two three four \" +\n                    \"five six seven eight nine ten 1234 arrow_forward pause_button play_pause stop_button record_button track_next \" +\n                    \"track_previous fast_forward rewind twisted_rightwards_arrows repeat repeat_one arrow_backward arrow_up_small \" +\n                    \"arrow_down_small arrow_double_up arrow_double_down arrow_right arrow_left arrow_up arrow_down arrow_upper_right \" +\n                    \"arrow_lower_right arrow_lower_left arrow_upper_left arrow_up_down left_right_arrow arrows_counterclockwise \" +\n                    \"arrow_right_hook leftwards_arrow_with_hook arrow_heading_up arrow_heading_down hash asterisk information_source \" +\n                    \"abc abcd capital_abcd symbols musical_note notes wavy_dash curly_loop heavy_check_mark arrows_clockwise \" +\n                    \"heavy_plus_sign heavy_minus_sign heavy_division_sign heavy_multiplication_x heavy_dollar_sign currency_exchange \" +\n                    \"copyright registered tm end back on top soon ballot_box_with_check radio_button white_circle black_circle \" +\n                    \"red_circle large_blue_circle small_orange_diamond small_blue_diamond large_orange_diamond large_blue_diamond \" +\n                    \"small_red_triangle black_small_square white_small_square black_large_square white_large_square small_red_triangle_down \" +\n                    \"black_medium_square white_medium_square black_medium_small_square white_medium_small_square black_square_button \" +\n                    \"white_square_button speaker sound loud_sound mute mega loudspeaker bell no_bell black_joker mahjong spades \" +\n                    \"clubs hearts diamonds flower_playing_cards thought_balloon anger_right speech_balloon clock1 clock2 clock3 \" +\n                    \"clock4 clock5 clock6 clock7 clock8 clock9 clock10 clock11 clock12 clock130 clock230 clock330 clock430 \" +\n                    \"clock530 clock630 clock730 clock830 clock930 clock1030 clock1130 clock1230 eye_in_speech_bubble\"\n                },\n\n                flags: {\n                    icon: \"flag_gb\",\n                    title: \"Flags\",\n                    emoji: \"ac af al dz ad ao ai ag ar am aw au at az bs bh bd bb by be bz bj bm bt bo ba bw br bn bg bf bi \" +\n                    \"cv kh cm ca ky cf td flag_cl cn co km cg flag_cd cr hr cu cy cz dk dj dm do ec eg sv gq er ee et fk fo \" +\n                    \"fj fi fr pf ga gm ge de gh gi gr gl gd gu gt gn gw gy ht hn hk hu is in flag_id ir iq ie il it ci jm jp \" +\n                    \"je jo kz ke ki xk kw kg la lv lb ls lr ly li lt lu mo mk mg mw my mv ml mt mh mr mu mx fm md mc mn me \" +\n                    \"ms ma mz mm na nr np nl nc nz ni ne flag_ng nu kp no om pk pw ps pa pg py pe ph pl pt pr qa ro ru rw \" +\n                    \"sh kn lc vc ws sm st flag_sa sn rs sc sl sg sk si sb so za kr es lk sd sr sz se ch sy tw tj tz th tl \" +\n                    \"tg to tt tn tr flag_tm flag_tm ug ua ae gb us vi uy uz vu va ve vn wf eh ye zm zw re ax ta io bq cx \" +\n                    \"cc gg im yt nf pn bl pm gs tk bv hm sj um ic ea cp dg as aq vg ck cw eu gf tf gp mq mp sx ss tc \"\n                }\n            };\n        };\n\n        return defaultOptions;\n    };\n    function getOptions(options) {\n        var default_options = getDefaultOptions();\n        if (options && options['filters']) {\n            var filters = default_options.filters;\n            $.each(options['filters'], function(filter, data) {\n                if (!isObject(data) || $.isEmptyObject(data)) {\n                    delete filters[filter];\n                    return;\n                }\n                $.each(data, function(key, val) {\n                    filters[filter][key] = val;\n                });\n            });\n            options['filters'] = filters;\n        }\n        return $.extend({}, default_options, options);\n    };\n\n    var saveSelection, restoreSelection;\n    if (window.getSelection && document.createRange) {\n        saveSelection = function(el) {\n            var sel = window.getSelection && window.getSelection();\n            if (sel && sel.rangeCount > 0) {\n                return sel.getRangeAt(0);\n            }\n        };\n\n        restoreSelection = function(el, sel) {\n            var range = document.createRange();\n            range.setStart(sel.startContainer, sel.startOffset);\n            range.setEnd(sel.endContainer, sel.endOffset)\n\n            sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n    } else if (document.selection && document.body.createTextRange) {\n        saveSelection = function(el) {\n            return document.selection.createRange();\n        };\n\n        restoreSelection = function(el, sel) {\n            var textRange = document.body.createTextRange();\n            textRange.moveToElementText(el);\n            textRange.setStart(sel.startContanier, sel.startOffset);\n            textRange.setEnd(sel.endContainer, sel.endOffset);\n            textRange.select();\n        };\n    }\n\n\n    var uniRegexp;\n    function unicodeTo(str, template) {\n        return str.replace(uniRegexp, function(unicodeChar) {\n            var map = emojione[(emojioneSupportMode === 0 ? 'jsecapeMap' : 'jsEscapeMap')];\n            if (typeof unicodeChar !== 'undefined' && unicodeChar in map) {\n                return getTemplate(template, map[unicodeChar]);\n            }\n            return unicodeChar;\n        });\n    }\n    function htmlFromText(str, self) {\n        str = str\n            .replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&#x27;')\n            .replace(/`/g, '&#x60;')\n            .replace(/(?:\\r\\n|\\r|\\n)/g, '\\n')\n            .replace(/(\\n+)/g, '<div>$1</div>')\n            .replace(/\\n/g, '<br/>')\n            .replace(/<br\\/><\\/div>/g, '</div>');\n        if (self.shortnames) {\n            str = emojione.shortnameToUnicode(str);\n        }\n        return unicodeTo(str, self.emojiTemplate)\n            .replace(/\\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;')\n            .replace(/  /g, '&nbsp;&nbsp;');\n    }\n    function textFromHtml(str, self) {\n        str = str\n            .replace(/&#10;/g, '\\n')\n            .replace(/&#09;/g, '\\t')\n            .replace(/<img[^>]*alt=\"([^\"]+)\"[^>]*>/ig, '$1')\n            .replace(/\\n|\\r/g, '')\n            .replace(/<br[^>]*>/ig, '\\n')\n            .replace(/(?:<(?:div|p|ol|ul|li|pre|code|object)[^>]*>)+/ig, '<div>')\n            .replace(/(?:<\\/(?:div|p|ol|ul|li|pre|code|object)>)+/ig, '</div>')\n            .replace(/\\n<div><\\/div>/ig, '\\n')\n            .replace(/<div><\\/div>\\n/ig, '\\n')\n            .replace(/(?:<div>)+<\\/div>/ig, '\\n')\n            .replace(/([^\\n])<\\/div><div>/ig, '$1\\n')\n            .replace(/(?:<\\/div>)+/ig, '</div>')\n            .replace(/([^\\n])<\\/div>([^\\n])/ig, '$1\\n$2')\n            .replace(/<\\/div>/ig, '')\n            .replace(/([^\\n])<div>/ig, '$1\\n')\n            .replace(/\\n<div>/ig, '\\n')\n            .replace(/<div>\\n/ig, '\\n\\n')\n            .replace(/<(?:[^>]+)?>/g, '')\n            .replace(new RegExp(invisibleChar, 'g'), '')\n            .replace(/&nbsp;/g, ' ')\n            .replace(/&lt;/g, '<')\n            .replace(/&gt;/g, '>')\n            .replace(/&quot;/g, '\"')\n            .replace(/&#x27;/g, \"'\")\n            .replace(/&#x60;/g, '`')\n            .replace(/&#60;/g, '<')\n            .replace(/&#62;/g, '>')\n            .replace(/&amp;/g, '&');\n\n        switch (self.saveEmojisAs) {\n            case 'image':\n                str = unicodeTo(str, self.emojiTemplate);\n                break;\n            case 'shortname':\n                str = emojione.toShort(str);\n        }\n        return str;\n    }\n    function calcButtonPosition() {\n        var self = this,\n            offset = self.editor[0].offsetWidth - self.editor[0].clientWidth,\n            current = parseInt(self.button.css('marginRight'));\n        if (current !== offset) {\n            self.button.css({marginRight: offset});\n            if (self.floatingPicker) {\n                self.picker.css({right: parseInt(self.picker.css('right')) - current + offset});\n            }\n        }\n    }\n    function lazyLoading() {\n        var self = this;\n        if (!self.sprite && self.lasyEmoji[0] && self.lasyEmoji.eq(0).is(\".lazy-emoji\")) {\n            var pickerTop = self.picker.offset().top,\n                pickerBottom = pickerTop + self.picker.height() + 20;\n\n            self.lasyEmoji.each(function() {\n                var e = $(this), top = e.offset().top;\n\n                if (top > pickerTop && top < pickerBottom) {\n                    e.attr(\"src\", e.data(\"src\")).removeClass(\"lazy-emoji\");\n                }\n\n                if (top > pickerBottom) {\n                    return false;\n                }\n            });\n            self.lasyEmoji = self.lasyEmoji.filter(\".lazy-emoji\");\n        }\n    };\n    function selector (prefix, skip_dot) {\n        return (skip_dot ? '' : '.') + css_class + (prefix ? (\"-\" + prefix) : \"\");\n    }\n    function div(prefix) {\n        var parent = $('<div/>', isObject(prefix) ? prefix : {\"class\" : selector(prefix, true)});\n        $.each(slice.call(arguments).slice(1), function(i, child) {\n            if ($.isFunction(child)) {\n                child = child.call(parent);\n            }\n            if (child) {\n                $(child).appendTo(parent);\n            }\n        });\n        return parent;\n    }\n    function getRecent () {\n        return localStorage.getItem(\"recent_emojis\") || \"\";\n    }\n    function updateRecent(self, show) {\n        var emojis = getRecent();\n        if (!self.recent || self.recent !== emojis || show) {\n            if (emojis.length) {\n                var skinnable = self.scrollArea.is(\".skinnable\"),\n                    scrollTop, height;\n\n                if (!skinnable) {\n                    scrollTop = self.scrollArea.scrollTop();\n                    if (show) {\n                        self.recentCategory.show();\n                    }\n                    height = self.recentCategory.is(\":visible\") ? self.recentCategory.height() : 0;\n                }\n\n                var items = shortnameTo(emojis, self.emojiBtnTemplate, true).split('|').join('');\n                self.recentCategory.children(\".emojibtn\").remove();\n                $(items).insertAfter(self.recentCategory.children(\".emojionearea-category-title\"));\n\n\n                self.recentCategory.children(\".emojibtn\").on(\"click\", function() {\n                    self.trigger(\"emojibtn.click\", $(this));\n                });\n\n                self.recentFilter.show();\n\n                if (!skinnable) {\n                    self.recentCategory.show();\n\n                    var height2 = self.recentCategory.height();\n\n                    if (height !== height2) {\n                        self.scrollArea.scrollTop(scrollTop + height2 - height);\n                    }\n                }\n            } else {\n                if (self.recentFilter.hasClass(\"active\")) {\n                    self.recentFilter.removeClass(\"active\").next().addClass(\"active\");\n                }\n                self.recentCategory.hide();\n                self.recentFilter.hide();\n            }\n            self.recent = emojis;\n        }\n    };\n    function setRecent(self, emoji) {\n        var recent = getRecent();\n        var emojis = recent.split(\"|\");\n\n        var index = emojis.indexOf(emoji);\n        if (index !== -1) {\n            emojis.splice(index, 1);\n        }\n        emojis.unshift(emoji);\n\n        if (emojis.length > 9) {\n            emojis.pop();\n        }\n\n        localStorage.setItem(\"recent_emojis\", emojis.join(\"|\"));\n\n        updateRecent(self);\n    };\n// see https://github.com/Modernizr/Modernizr/blob/master/feature-detects/storage/localstorage.js\n    function supportsLocalStorage () {\n        var test = 'test';\n        try {\n            localStorage.setItem(test, test);\n            localStorage.removeItem(test);\n            return true;\n        } catch(e) {\n            return false;\n        }\n    }\n    function init(self, source, options) {\n        //calcElapsedTime('init', function() {\n        self.options = options = getOptions(options);\n        self.sprite = options.sprite && emojioneSupportMode < 3;\n        self.inline = options.inline === null ? source.is(\"INPUT\") : options.inline;\n        self.shortnames = options.shortnames;\n        self.saveEmojisAs = options.saveEmojisAs;\n        self.standalone = options.standalone;\n        self.emojiTemplate = '<img alt=\"{alt}\" class=\"emojione' + (self.sprite ? '-{uni}\" src=\"' + blankImg + '\"/>' : 'emoji\" src=\"{img}\"/>');\n        self.emojiTemplateAlt = self.sprite ? '<i class=\"emojione-{uni}\"/>' : '<img class=\"emojioneemoji\" src=\"{img}\"/>';\n        self.emojiBtnTemplate = '<i class=\"emojibtn\" role=\"button\" data-name=\"{name}\" title=\"{friendlyName}\">' + self.emojiTemplateAlt + '</i>';\n        self.recentEmojis = options.recentEmojis && supportsLocalStorage();\n\n        var pickerPosition = options.pickerPosition;\n        self.floatingPicker = pickerPosition === 'top' || pickerPosition === 'bottom';\n        self.source = source;\n\n        if (source.is(\":disabled\") || source.is(\".disabled\")) {\n            self.disable();\n        }\n\n        var sourceValFunc = source.is(\"TEXTAREA\") || source.is(\"INPUT\") ? \"val\" : \"text\",\n            editor, button, picker, filters, filtersBtns, searchPanel, emojisList, categories, categoryBlocks, scrollArea,\n            tones = div('tones',\n                options.tones ?\n                    function() {\n                        this.addClass(selector('tones-' + options.tonesStyle, true));\n                        for (var i = 0; i <= 5; i++) {\n                            this.append($(\"<i/>\", {\n                                \"class\": \"btn-tone btn-tone-\" + i + (!i ? \" active\" : \"\"),\n                                \"data-skin\": i,\n                                role: \"button\"\n                            }));\n                        }\n                    } : null\n            ),\n            app = div({\n                \"class\" : css_class + ((self.standalone) ? \" \" + css_class + \"-standalone \" : \" \") + (source.attr(\"class\") || \"\"),\n                role: \"application\"\n            },\n            editor = self.editor = div(\"editor\").attr({\n                contenteditable: (self.standalone) ? false : true,\n                placeholder: options.placeholder || source.data(\"placeholder\") || source.attr(\"placeholder\") || \"\",\n                tabindex: 0\n            }),\n            button = self.button = div('button',\n                div('button-open'),\n                div('button-close')\n            ).attr('title', options.buttonTitle),\n            picker = self.picker = div('picker',\n                div('wrapper',\n                    filters = div('filters'),\n                    (options.search ?\n                        searchPanel = div('search-panel',\n                            div('search',\n                                options.search ?\n                                function() {\n                                    self.search = $(\"<input/>\", {\n                                        \"placeholder\": options.searchPlaceholder || \"\",\n                                        \"type\": \"text\",\n                                        \"class\": \"search\"\n                                    });\n                                    this.append(self.search);\n                                } : null\n                            ),\n                            tones\n                        ) : null\n                    ),\n                    scrollArea = div('scroll-area',\n                        options.tones && !options.search ? div('tones-panel',\n                            tones\n                        ) : null,\n                        emojisList = div('emojis-list')\n                    )\n                )\n            ).addClass(selector('picker-position-' + options.pickerPosition, true))\n             .addClass(selector('filters-position-' + options.filtersPosition, true))\n             .addClass(selector('search-position-' + options.searchPosition, true))\n             .addClass('hidden')\n        );\n\n        if (options.search) {\n            searchPanel.addClass(selector('with-search', true));\n        }\n\n        self.searchSel = null;\n\n        editor.data(source.data());\n\n        $.each(options.attributes, function(attr, value) {\n            editor.attr(attr, value);\n        });\n\n        var mainBlock = div('category-block').attr({\"data-tone\": 0}).prependTo(emojisList);\n\n        $.each(options.filters, function(filter, params) {\n            var skin = 0;\n            if (filter === 'recent' && !self.recentEmojis) {\n                return;\n            }\n            if (filter !== 'tones') {\n                $(\"<i/>\", {\n                    \"class\": selector(\"filter\", true) + \" \" + selector(\"filter-\" + filter, true),\n                    \"data-filter\": filter,\n                    title: params.title\n                })\n                .wrapInner(shortnameTo(params.icon, self.emojiTemplateAlt))\n                .appendTo(filters);\n            } else if (options.tones) {\n                skin = 5;\n            } else {\n                return;\n            }\n\n            do {\n                var category,\n                    items = params.emoji.replace(/[\\s,;]+/g, '|');\n\n                if (skin === 0) {\n                    category = div('category').attr({\n                        name: filter,\n                        \"data-tone\": skin\n                    }).appendTo(mainBlock);\n                } else {\n                    category = div('category-block').attr({\n                        name: filter,\n                        \"data-tone\": skin\n                    }).appendTo(emojisList);\n                }\n\n                if (skin > 0) {\n                    category.hide();\n                    items = items.split('|').join('_tone' + skin + '|') + '_tone' + skin;\n                }\n\n                if (filter === 'recent') {\n                    items = getRecent();\n                }\n\n                items = shortnameTo(items,\n                    self.sprite ?\n                        '<i class=\"emojibtn\" role=\"button\" data-name=\"{name}\" title=\"{friendlyName}\"><i class=\"emojione-{uni}\"></i></i>' :\n                        '<i class=\"emojibtn\" role=\"button\" data-name=\"{name}\" title=\"{friendlyName}\"><img class=\"emojioneemoji lazy-emoji\" data-src=\"{img}\"/></i>',\n                    true).split('|').join('');\n\n                category.html(items);\n                $('<div class=\"emojionearea-category-title\"/>').text(params.title).prependTo(category);\n            } while (--skin > 0);\n        });\n\n        options.filters = null;\n        if (!self.sprite) {\n            self.lasyEmoji = emojisList.find(\".lazy-emoji\");\n        }\n\n        filtersBtns = filters.find(selector(\"filter\"));\n        filtersBtns.eq(0).addClass(\"active\");\n        categoryBlocks = emojisList.find(selector(\"category-block\"))\n        categories = emojisList.find(selector(\"category\"))\n\n        self.recentFilter = filtersBtns.filter('[data-filter=\"recent\"]');\n        self.recentCategory = categories.filter(\"[name=recent]\");\n\n        self.scrollArea = scrollArea;\n\n        if (options.container) {\n            $(options.container).wrapInner(app);\n        } else {\n            app.insertAfter(source);\n        }\n\n        if (options.hideSource) {\n            source.hide();\n        }\n\n        self.setText(source[sourceValFunc]());\n        source[sourceValFunc](self.getText());\n        calcButtonPosition.apply(self);\n\n        // if in standalone mode and no value is set, initialise with a placeholder\n        if (self.standalone && !self.getText().length) {\n            var placeholder = $(source).data(\"emoji-placeholder\") || options.emojiPlaceholder;\n            self.setText(placeholder);\n            editor.addClass(\"has-placeholder\");\n        }\n\n        // attach() must be called before any .on() methods !!!\n        // 1) attach() stores events into possibleEvents{},\n        // 2) .on() calls bindEvent() and stores handlers into eventStorage{},\n        // 3) bindEvent() finds events in possibleEvents{} and bind founded via jQuery.on()\n        // 4) attached events via jQuery.on() calls trigger()\n        // 5) trigger() calls handlers stored into eventStorage{}\n\n        attach(self, emojisList.find(\".emojibtn\"), {click: \"emojibtn.click\"});\n        attach(self, window, {resize: \"!resize\"});\n        attach(self, tones.children(), {click: \"tone.click\"});\n        attach(self, [picker, button], {mousedown: \"!mousedown\"}, editor);\n        attach(self, button, {click: \"button.click\"});\n        attach(self, editor, {paste :\"!paste\"}, editor);\n        attach(self, editor, [\"focus\", \"blur\"], function() { return self.stayFocused ? false : editor; } );\n        attach(self, picker, {mousedown: \"picker.mousedown\", mouseup: \"picker.mouseup\", click: \"picker.click\",\n            keyup: \"picker.keyup\", keydown: \"picker.keydown\", keypress: \"picker.keypress\"});\n        attach(self, editor, [\"mousedown\", \"mouseup\", \"click\", \"keyup\", \"keydown\", \"keypress\"]);\n        attach(self, picker.find(\".emojionearea-filter\"), {click: \"filter.click\"});\n        attach(self, source, {change: \"source.change\"});\n\n        if (options.search) {\n            attach(self, self.search, {keyup: \"search.keypress\", focus: \"search.focus\", blur: \"search.blur\"});\n        }\n\n        var noListenScroll = false;\n        scrollArea.on('scroll', function () {\n            if (!noListenScroll) {\n                lazyLoading.call(self);\n                if (scrollArea.is(\":not(.skinnable)\")) {\n                    var item = categories.eq(0), scrollTop = scrollArea.offset().top;\n                    categories.each(function (i, e) {\n                        if ($(e).offset().top - scrollTop >= 10) {\n                            return false;\n                        }\n                        item = $(e);\n                    });\n                    var filter = filtersBtns.filter('[data-filter=\"' + item.attr(\"name\") + '\"]');\n                    if (filter[0] && !filter.is(\".active\")) {\n                        filtersBtns.removeClass(\"active\");\n                        filter.addClass(\"active\");\n                    }\n                }\n            }\n        });\n\n        self.on(\"@filter.click\", function(filter) {\n            var isActive = filter.is(\".active\");\n            if (scrollArea.is(\".skinnable\")) {\n                if (isActive) return;\n                tones.children().eq(0).click();\n            }\n            noListenScroll = true;\n            if (!isActive) {\n                filtersBtns.filter(\".active\").removeClass(\"active\");\n                filter.addClass(\"active\");\n            }\n            var headerOffset = categories.filter('[name=\"' + filter.data('filter') + '\"]').offset().top,\n                scroll = scrollArea.scrollTop(),\n                offsetTop = scrollArea.offset().top;\n\n            scrollArea.stop().animate({\n                scrollTop: headerOffset + scroll - offsetTop - 2\n            }, 200, 'swing', function () {\n                lazyLoading.call(self);\n                noListenScroll = false;\n            });\n        })\n\n        .on(\"@picker.show\", function() {\n            if (self.recentEmojis) {\n                updateRecent(self);\n            }\n            lazyLoading.call(self);\n        })\n\n        .on(\"@tone.click\", function(tone) {\n            tones.children().removeClass(\"active\");\n            var skin = tone.addClass(\"active\").data(\"skin\");\n            if (skin) {\n                scrollArea.addClass(\"skinnable\");\n                categoryBlocks.hide().filter(\"[data-tone=\" + skin + \"]\").show();\n                filtersBtns.removeClass(\"active\");//.not('[data-filter=\"recent\"]').eq(0).addClass(\"active\");\n            } else {\n                scrollArea.removeClass(\"skinnable\");\n                categoryBlocks.hide().filter(\"[data-tone=0]\").show();\n                filtersBtns.eq(0).click();\n            }\n            lazyLoading.call(self);\n            if (options.search) {\n                self.trigger('search.keypress');\n            }\n        })\n\n        .on(\"@button.click\", function(button) {\n            if (button.is(\".active\")) {\n                self.hidePicker();\n            } else {\n                self.showPicker();\n                self.searchSel = null;\n            }\n        })\n\n        .on(\"@!paste\", function(editor, event) {\n\n            var pasteText = function(text) {\n                var caretID = \"caret-\" + (new Date()).getTime();\n                var html = htmlFromText(text, self);\n                pasteHtmlAtCaret(html);\n                pasteHtmlAtCaret('<i id=\"' + caretID +'\"></i>');\n                editor.scrollTop(editorScrollTop);\n                var caret = $(\"#\" + caretID),\n                    top = caret.offset().top - editor.offset().top,\n                    height = editor.height();\n                if (editorScrollTop + top >= height || editorScrollTop > top) {\n                    editor.scrollTop(editorScrollTop + top - 2 * height/3);\n                }\n                caret.remove();\n                self.stayFocused = false;\n                calcButtonPosition.apply(self);\n                trigger(self, 'paste', [editor, text, html]);\n            };\n\n            if (event.originalEvent.clipboardData) {\n                var text = event.originalEvent.clipboardData.getData('text/plain');\n                pasteText(text);\n\n                if (event.preventDefault){\n                    event.preventDefault();\n                } else {\n                    event.stop();\n                }\n\n                event.returnValue = false;\n                event.stopPropagation();\n                return false;\n            }\n\n            self.stayFocused = true;\n            // insert invisible character for fix caret position\n            pasteHtmlAtCaret('<span>' + invisibleChar + '</span>');\n\n            var sel = saveSelection(editor[0]),\n                editorScrollTop = editor.scrollTop(),\n                clipboard = $(\"<div/>\", {contenteditable: true})\n                    .css({position: \"fixed\", left: \"-999px\", width: \"1px\", height: \"1px\", top: \"20px\", overflow: \"hidden\"})\n                    .appendTo($(\"BODY\"))\n                    .focus();\n\n            window.setTimeout(function() {\n                editor.focus();\n                restoreSelection(editor[0], sel);\n                var text = textFromHtml(clipboard.html().replace(/\\r\\n|\\n|\\r/g, '<br>'), self);\n                clipboard.remove();\n                pasteText(text);\n            }, 200);\n        })\n\n        .on(\"@emojibtn.click\", function(emojibtn) {\n            editor.removeClass(\"has-placeholder\");\n\n            if (self.searchSel !== null) {\n                editor.focus();\n                restoreSelection(editor[0], self.searchSel);\n                self.searchSel = null;\n            }\n\n            if (self.standalone) {\n                editor.html(shortnameTo(emojibtn.data(\"name\"), self.emojiTemplate));\n                self.trigger(\"blur\");\n            } else {\n                saveSelection(editor[0]);\n                pasteHtmlAtCaret(shortnameTo(emojibtn.data(\"name\"), self.emojiTemplate));\n            }\n\n            if (self.recentEmojis) {\n                setRecent(self, emojibtn.data(\"name\"));\n            }\n\n            // self.search.val('').trigger(\"change\");\n            self.trigger('search.keypress');\n        })\n\n        .on(\"@!resize @keyup @emojibtn.click\", calcButtonPosition)\n\n        .on(\"@!mousedown\", function(editor, event) {\n            if ($(event.target).hasClass('search')) {\n                // Allow search clicks\n                self.stayFocused = true;\n                if (self.searchSel === null) {\n                    self.searchSel = saveSelection(editor[0]);\n                }\n            } else {\n                if (!app.is(\".focused\")) {\n                    editor.trigger(\"focus\");\n                }\n                event.preventDefault();\n            }\n            return false;\n        })\n\n        .on(\"@change\", function() {\n            var html = self.editor.html().replace(/<\\/?(?:div|span|p)[^>]*>/ig, '');\n            // clear input: chrome adds <br> when contenteditable is empty\n            if (!html.length || /^<br[^>]*>$/i.test(html)) {\n                self.editor.html(self.content = '');\n            }\n            source[sourceValFunc](self.getText());\n        })\n\n        .on(\"@source.change\", function() {\n            self.setText(source[sourceValFunc]());\n            trigger('change');\n        })\n\n        .on(\"@focus\", function() {\n            app.addClass(\"focused\");\n        })\n\n        .on(\"@blur\", function() {\n            app.removeClass(\"focused\");\n\n            if (options.hidePickerOnBlur) {\n                self.hidePicker();\n            }\n\n            var content = self.editor.html();\n            if (self.content !== content) {\n                self.content = content;\n                trigger(self, 'change', [self.editor]);\n                source.trigger(\"blur\").trigger(\"change\");\n            } else {\n                source.trigger(\"blur\");\n            }\n\n            if (options.search) {\n                self.search.val('');\n                self.trigger('search.keypress', true);\n            }\n        });\n\n        if (options.search) {\n            self.on(\"@search.focus\", function() {\n                self.stayFocused = true;\n                self.search.addClass(\"focused\");\n            })\n\n            .on(\"@search.keypress\", function(hide) {\n                var filterBtns = picker.find(\".emojionearea-filter\");\n                var activeTone = (options.tones ? tones.find(\"i.active\").data(\"skin\") : 0);\n                var term = self.search.val().replace( / /g, \"_\" ).replace(/\"/g, \"\\\\\\\"\");\n\n                if (term && term.length) {\n                    if (self.recentFilter.hasClass(\"active\")) {\n                        self.recentFilter.removeClass(\"active\").next().addClass(\"active\");\n                    }\n\n                    self.recentCategory.hide();\n                    self.recentFilter.hide();\n\n                    categoryBlocks.each(function() {\n                        var matchEmojis = function(category, activeTone) {\n                            var $matched = category.find('.emojibtn[data-name*=\"' + term + '\"]');\n                            if ($matched.length === 0) {\n                                if (category.data('tone') === activeTone) {\n                                    category.hide();\n                                }\n                                filterBtns.filter('[data-filter=\"' + category.attr('name') + '\"]').hide();\n                            } else {\n                                var $notMatched = category.find('.emojibtn:not([data-name*=\"' + term + '\"])');\n                                $notMatched.hide();\n\n                                $matched.show();\n\n                                if (category.data('tone') === activeTone) {\n                                    category.show();\n                                }\n\n                                filterBtns.filter('[data-filter=\"' + category.attr('name') + '\"]').show();\n                            }\n                        }\n\n                        var $block = $(this);\n                        if ($block.data('tone') === 0) {\n                            categories.filter(':not([name=\"recent\"])').each(function() {\n                                matchEmojis($(this), 0);\n                            })\n                        } else {\n                            matchEmojis($block, activeTone);\n                        }\n                    });\n                    if (!noListenScroll) {\n                        scrollArea.trigger('scroll');\n                    } else {\n                        lazyLoading.call(self);\n                    }\n                } else {\n                    updateRecent(self, true);\n                    categoryBlocks.filter('[data-tone=\"' + tones.find(\"i.active\").data(\"skin\") + '\"]:not([name=\"recent\"])').show();\n                    $('.emojibtn', categoryBlocks).show();\n                    filterBtns.show();\n                    lazyLoading.call(self);\n                }\n            })\n\n            .on(\"@search.blur\", function() {\n                self.stayFocused = false;\n                self.search.removeClass(\"focused\");\n                self.trigger(\"blur\");\n            });\n        }\n\n        if (options.shortcuts) {\n            self.on(\"@keydown\", function(_, e) {\n                if (!e.ctrlKey) {\n                    if (e.which == 9) {\n                        e.preventDefault();\n                        button.click();\n                    }\n                    else if (e.which == 27) {\n                        e.preventDefault();\n                        if (button.is(\".active\")) {\n                            self.hidePicker();\n                        }\n                    }\n                }\n            });\n        }\n\n        if (isObject(options.events) && !$.isEmptyObject(options.events)) {\n            $.each(options.events, function(event, handler) {\n                self.on(event.replace(/_/g, '.'), handler);\n            });\n        }\n\n        if (options.autocomplete) {\n            var autocomplete = function() {\n                var textcompleteOptions = {\n                    maxCount: options.textcomplete.maxCount,\n                    placement: options.textcomplete.placement\n                };\n\n                if (options.shortcuts) {\n                    textcompleteOptions.onKeydown = function (e, commands) {\n                        if (!e.ctrlKey && e.which == 13) {\n                            return commands.KEY_ENTER;\n                        }\n                    };\n                }\n\n                var map = $.map(emojione.emojioneList, function (_, emoji) {\n                    return !options.autocompleteTones ? /_tone[12345]/.test(emoji) ? null : emoji : emoji;\n                });\n                map.sort();\n                editor.textcomplete([\n                    {\n                        id: css_class,\n                        match: /\\B(:[\\-+\\w]*)$/,\n                        search: function (term, callback) {\n                            callback($.map(map, function (emoji) {\n                                return emoji.indexOf(term) === 0 ? emoji : null;\n                            }));\n                        },\n                        template: function (value) {\n                            return shortnameTo(value, self.emojiTemplate) + \" \" + value.replace(/:/g, '');\n                        },\n                        replace: function (value) {\n                            return shortnameTo(value, self.emojiTemplate);\n                        },\n                        cache: true,\n                        index: 1\n                    }\n                ], textcompleteOptions);\n\n                if (options.textcomplete.placement) {\n                    // Enable correct positioning for textcomplete\n                    if ($(editor.data('textComplete').option.appendTo).css(\"position\") == \"static\") {\n                        $(editor.data('textComplete').option.appendTo).css(\"position\", \"relative\");\n                    }\n                }\n            };\n\n            var initAutocomplete = function() {\n                if (self.disabled) {\n                    var enable = function () {\n                        self.off('enabled', enable);\n                        autocomplete();\n                    };\n                    self.on('enabled', enable);\n                } else {\n                    autocomplete();\n                }\n            }\n\n            if ($.fn.textcomplete) {\n                initAutocomplete();\n            } else {\n                $.ajax({\n                    url: \"https://cdn.rawgit.com/yuku-t/jquery-textcomplete/v1.3.4/dist/jquery.textcomplete.js\",\n                    dataType: \"script\",\n                    cache: true,\n                    success: initAutocomplete\n                });\n            }\n        }\n\n        if (self.inline) {\n            app.addClass(selector('inline', true));\n            self.on(\"@keydown\", function(_, e) {\n                if (e.which == 13) {\n                    e.preventDefault();\n                }\n            });\n        }\n\n        if (/firefox/i.test(navigator.userAgent)) {\n            // disabling resize images on Firefox\n            document.execCommand(\"enableObjectResizing\", false, false);\n        }\n\n        self.isReady = true;\n        self.trigger(\"onLoad\", editor);\n        self.trigger(\"ready\", editor);\n        //}, self.id === 1); // calcElapsedTime()\n    };\n    var cdn = {\n        defaultBase: \"https://cdnjs.cloudflare.com/ajax/libs/emojione/\",\n        defaultBase3: \"https://cdn.jsdelivr.net/\",\n        base: null,\n        isLoading: false\n    };\n    function loadEmojione(options) {\n        var emojioneVersion = getEmojioneVersion()\n        options = getOptions(options);\n\n        if (!cdn.isLoading) {\n            if (!emojione || getSupportMode(detectVersion(emojione)) < 2) {\n                cdn.isLoading = true;\n                var emojioneJsCdnUrlBase;\n                if (getSupportMode(emojioneVersion) > 5) {\n                    emojioneJsCdnUrlBase = cdn.defaultBase3 + \"npm/emojione@\" + emojioneVersion;\n                } else if (getSupportMode(emojioneVersion) > 4) {\n                    emojioneJsCdnUrlBase = cdn.defaultBase3 + \"emojione/\" + emojioneVersion;\n                } else {\n                    emojioneJsCdnUrlBase = cdn.defaultBase + \"/\" + emojioneVersion;\n                }\n\n                $.ajax({\n                    url: emojioneJsCdnUrlBase + \"/lib/js/emojione.min.js\",\n                    dataType: \"script\",\n                    cache: true,\n                    success: function () {\n                        emojione = window.emojione;\n                        emojioneVersion = detectVersion(emojione);\n                        emojioneSupportMode = getSupportMode(emojioneVersion);\n                        var sprite;\n                        if (emojioneSupportMode > 4) {\n                            cdn.base = cdn.defaultBase3 + \"emojione/assets/\" + emojioneVersion;\n                            sprite = cdn.base + \"/sprites/emojione-sprite-\" + emojione.emojiSize + \".css\";\n                        } else {\n                            cdn.base = cdn.defaultBase + emojioneVersion + \"/assets\";\n                            sprite = cdn.base + \"/sprites/emojione.sprites.css\";\n                        }\n                        if (options.sprite) {\n                            if (document.createStyleSheet) {\n                                document.createStyleSheet(sprite);\n                            } else {\n                                $('<link/>', {rel: 'stylesheet', href: sprite}).appendTo('head');\n                            }\n                        }\n                        while (readyCallbacks.length) {\n                            readyCallbacks.shift().call();\n                        }\n                        cdn.isLoading = false;\n                    }\n                });\n            } else {\n                emojioneVersion = detectVersion(emojione);\n                emojioneSupportMode = getSupportMode(emojioneVersion);\n                if (emojioneSupportMode > 4) {\n                    cdn.base = cdn.defaultBase3 + \"emojione/assets/\" + emojioneVersion;\n                } else {\n                    cdn.base = cdn.defaultBase + emojioneVersion + \"/assets\";\n                }\n            }\n        }\n\n        emojioneReady(function() {\n            var emojiSize = \"\";\n            if (options.useInternalCDN) {\n                if (emojioneSupportMode > 4) emojiSize = emojione.emojiSize + \"/\";\n\n                emojione.imagePathPNG = cdn.base + \"/png/\" + emojiSize;\n                emojione.imagePathSVG = cdn.base + \"/svg/\" + emojiSize;\n                emojione.imagePathSVGSprites = cdn.base + \"/sprites/emojione.sprites.svg\";\n                emojione.imageType = options.imageType;\n            }\n            if (getSupportMode(emojioneVersion) > 4) {\n                uniRegexp = emojione.regUnicode;\n                emojione.imageType = options.imageType || \"png\";\n            } else {\n                uniRegexp = new RegExp(\"<object[^>]*>.*?<\\/object>|<span[^>]*>.*?<\\/span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(\" + emojione.unicodeRegexp + \")\", \"gi\");\n            }\n        });\n    };\n    var EmojioneArea = function(element, options) {\n        var self = this;\n        loadEmojione(options);\n        eventStorage[self.id = ++unique] = {};\n        possibleEvents[self.id] = {};\n        emojioneReady(function() {\n            init(self, element, options);\n        });\n    };\n    function bindEvent(self, event) {\n        event = event.replace(/^@/, '');\n        var id = self.id;\n        if (possibleEvents[id][event]) {\n            $.each(possibleEvents[id][event], function(i, ev) {\n                // ev[0] = element\n                // ev[1] = event\n                // ev[2] = target\n                $.each($.isArray(ev[0]) ? ev[0] : [ev[0]], function(i, el) {\n                    $(el).on(ev[1], function() {\n                        var args = slice.call(arguments),\n                            target = $.isFunction(ev[2]) ? ev[2].apply(self, [event].concat(args)) : ev[2];\n                        if (target) {\n                            trigger(self, event, [target].concat(args));\n                        }\n                    });\n                });\n            });\n            possibleEvents[id][event] = null;\n        }\n    }\n\n    EmojioneArea.prototype.on = function(events, handler) {\n        if (events && $.isFunction(handler)) {\n            var self = this;\n            $.each(events.toLowerCase().split(' '), function(i, event) {\n                bindEvent(self, event);\n                (eventStorage[self.id][event] || (eventStorage[self.id][event] = [])).push(handler);\n            });\n        }\n        return this;\n    };\n\n    EmojioneArea.prototype.off = function(events, handler) {\n        if (events) {\n            var id = this.id;\n            $.each(events.toLowerCase().replace(/_/g, '.').split(' '), function(i, event) {\n                if (eventStorage[id][event] && !/^@/.test(event)) {\n                    if (handler) {\n                        $.each(eventStorage[id][event], function(j, fn) {\n                            if (fn === handler) {\n                                eventStorage[id][event] = eventStorage[id][event].splice(j, 1);\n                            }\n                        });\n                    } else {\n                        eventStorage[id][event] = [];\n                    }\n                }\n            });\n        }\n        return this;\n    };\n\n    EmojioneArea.prototype.trigger = function() {\n        var args = slice.call(arguments),\n            call_args = [this].concat(args.slice(0,1));\n        call_args.push(args.slice(1));\n        return trigger.apply(this, call_args);\n    };\n\n    EmojioneArea.prototype.setFocus = function () {\n        var self = this;\n        emojioneReady(function () {\n            self.editor.focus();\n        });\n        return self;\n    };\n\n    EmojioneArea.prototype.setText = function (str) {\n        var self = this;\n        emojioneReady(function () {\n            self.editor.html(htmlFromText(str, self));\n            self.content = self.editor.html();\n            trigger(self, 'change', [self.editor]);\n            calcButtonPosition.apply(self);\n        });\n        return self;\n    }\n\n    EmojioneArea.prototype.getText = function() {\n        return textFromHtml(this.editor.html(), this);\n    }\n\n    EmojioneArea.prototype.showPicker = function () {\n        var self = this;\n        if (self._sh_timer) {\n            window.clearTimeout(self._sh_timer);\n        }\n        self.picker.removeClass(\"hidden\");\n        self._sh_timer =  window.setTimeout(function() {\n            self.button.addClass(\"active\");\n        }, 50);\n        trigger(self, \"picker.show\", [self.picker]);\n        return self;\n    }\n\n    EmojioneArea.prototype.hidePicker = function () {\n        var self = this;\n        if (self._sh_timer) {\n            window.clearTimeout(self._sh_timer);\n        }\n        self.button.removeClass(\"active\");\n        self._sh_timer =  window.setTimeout(function() {\n            self.picker.addClass(\"hidden\");\n        }, 500);\n        trigger(self, \"picker.hide\", [self.picker]);\n        return self;\n    }\n\n    EmojioneArea.prototype.enable = function () {\n        var self = this;\n        var next = function () {\n            self.disabled = false;\n            self.editor.prop('contenteditable', true);\n            self.button.show();\n            var editor = self[(self.standalone) ? \"button\" : \"editor\"];\n            editor.parent().removeClass('emojionearea-disable');\n            trigger(self, 'enabled', [editor]);\n        };\n        self.isReady ? next() : self.on(\"ready\", next);\n        return self;\n    }\n\n    EmojioneArea.prototype.disable = function () {\n        var self = this;\n        self.disabled = true;\n        var next = function () {\n            self.editor.prop('contenteditable', false);\n            self.hidePicker();\n            self.button.hide();\n            var editor = self[(self.standalone) ? \"button\" : \"editor\"];\n            editor.parent().addClass('emojionearea-disable');\n            trigger(self, 'disabled', [editor]);\n        };\n        self.isReady ? next() : self.on(\"ready\", next);\n        return self;\n    }\n\n    $.fn.emojioneArea = function(options) {\n        return this.each(function() {\n            if (!!this.emojioneArea) return this.emojioneArea;\n            $.data(this, 'emojioneArea', this.emojioneArea = new EmojioneArea($(this), options));\n            return this.emojioneArea;\n        });\n    };\n\n    $.fn.emojioneArea.defaults = getDefaultOptions();\n\n    $.fn.emojioneAreaText = function(options) {\n        options = getOptions(options);\n\n        var self = this, pseudoSelf = {\n            shortnames: (options && typeof options.shortnames !== 'undefined' ? options.shortnames : true),\n            emojiTemplate: '<img alt=\"{alt}\" class=\"emojione' + (options && options.sprite && emojioneSupportMode < 3 ? '-{uni}\" src=\"' + blankImg : 'emoji\" src=\"{img}') + '\"/>'\n        };\n\n        loadEmojione(options);\n        emojioneReady(function() {\n            self.each(function() {\n                var $this = $(this);\n                if (!$this.hasClass('emojionearea-text')) {\n                    $this.addClass('emojionearea-text').html(htmlFromText(($this.is('TEXTAREA') || $this.is('INPUT') ? $this.val() : $this.text()), pseudoSelf));\n                }\n                return $this;\n            });\n        });\n\n        return this;\n    };\n\n}, window ) );\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import {extend} from 'flarum/extend';\nimport app from 'flarum/app';\nimport Button from 'flarum/components/Button';\nimport ComposerBody from 'flarum/components/ComposerBody';\nimport TextEditor from 'flarum/components/TextEditor';\n\n/* global $ */\n\nconst translationPrefix = 'clarkwinkelmann-emojionearea.forum.';\n\napp.initializers.add('clarkwinkelmann-emojionearea', () => {\n    extend(ComposerBody.prototype, 'config', function (element, isInitialized, context) {\n        if (isInitialized) return;\n\n        const $container = $('<div class=\"ComposerBody-emojioneareaContainer\"/>');\n        this.$('.TextEditor-controls').before($container);\n\n        const area = $('<div />').emojioneArea({\n            standalone: true, // Popup only mode\n            search: app.forum.attribute('emojioneAreaEnableSearch'),\n            searchPlaceholder: app.translator.trans(translationPrefix + 'search_placeholder'),\n            buttonTitle: app.translator.trans(translationPrefix + 'picker_button'),\n            recentEmojis: app.forum.attribute('emojioneAreaEnableRecent'),\n            filtersPosition: app.forum.attribute('emojioneAreaFiltersPositionBottom') ? 'bottom' : 'top',\n            searchPosition: app.forum.attribute('emojioneAreaSearchPositionBottom') ? 'bottom' : 'top',\n            container: $container,\n            tones: app.forum.attribute('emojioneAreaEnableTones'),\n            autocomplete: false, // Do not try to provide autocomplete - will prevent the textcomplete lib from being included\n            events: { // Listen for clicks to sync with Flarum editor\n                emojibtn_click: () => {\n                    // To get the unicode value, we need to pull it from the invisible insert area\n                    this.editor.insertAtCursor(this.editor.emojioneArea.getText());\n                },\n            },\n        });\n\n        this.editor.emojioneArea = area.data('emojioneArea');\n\n        const clickedOutside = event => {\n            // If a click is triggered before the picker is ready, do not do anything\n            if (!this.editor.emojioneArea.isReady) {\n                return;\n            }\n\n            const $target = $(event.target);\n\n            // If we clicked on the popup or the editor button we don't do anything\n            if ($target.is('.emojionearea') || $target.parents('.emojionearea').length || $target.parents('.Button-emojionearea').length) {\n                return;\n            }\n\n            this.editor.emojioneArea.hidePicker();\n        };\n\n        document.addEventListener('click', clickedOutside);\n\n        const previousUnload = context.onunload;\n        context.onunload = () => {\n            if (previousUnload) {\n                previousUnload();\n            }\n            document.removeEventListener('click', clickedOutside);\n        };\n    });\n\n    extend(TextEditor.prototype, 'toolbarItems', function (items) {\n        // Not using the TextEditorButton component because the tooltip apparently won't go away once the picker is open\n        items.add('clarkwinkelmann-emojionearea', Button.component({\n            onclick: () => {\n                if (this.emojioneArea.button.is('.active')) {\n                    this.emojioneArea.hidePicker();\n                } else {\n                    const position = this.$('.Button-emojionearea').position();\n                    this.$('.emojionearea-picker').css('left', position.left - 290);\n                    this.emojioneArea.showPicker();\n                }\n            },\n            className: 'Button Button--icon Button--link Button-emojionearea',\n            icon: 'far fa-smile-beam',\n            title: app.translator.trans(translationPrefix + 'picker_button'),\n        }));\n\n        if (app.forum.attribute('emojioneAreaHideFlarumButton')) {\n            items.remove('emoji');\n        }\n    });\n});\n","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/ComposerBody'];","module.exports = flarum.core.compat['components/TextEditor'];","module.exports = flarum.core.compat['extend'];","module.exports = jQuery;"],"sourceRoot":""}